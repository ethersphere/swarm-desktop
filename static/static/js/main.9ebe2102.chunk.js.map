{"version":3,"sources":["utils/index.ts","utils/identity.ts","config.ts","components/ErrorBoundary.tsx","models/Token.ts","providers/Settings.tsx","providers/Bee.tsx","hooks/apiHooks.tsx","components/AlertVersion.tsx","assets/logo.svg","components/ExpandableList.tsx","components/ExpandableListItem.tsx","components/ExpandableListItemActions.tsx","components/ExpandableListItemKey.tsx","components/ClipboardCopy.tsx","components/QRCodeModal.tsx","components/EthereumAddress.tsx","components/CashoutModal.tsx","pages/accounting/PeerBalances.tsx","components/TroubleshootConnectionCard.tsx","hooks/accounting.ts","components/WithdrawDepositModal.tsx","containers/WithdrawModal.tsx","containers/DepositModal.tsx","pages/accounting/index.tsx","components/SwarmButton.tsx","providers/Feeds.tsx","components/SwarmDialog.tsx","components/CloseButton.tsx","components/TitleWithClose.tsx","pages/feeds/DeleteFeedDialog.tsx","components/Code.tsx","pages/feeds/ExportFeedDialog.tsx","components/SwarmTextInput.tsx","pages/feeds/ImportFeedDialog.tsx","pages/feeds/index.tsx","components/DocumentationText.tsx","components/HistoryHeader.tsx","components/SwarmSelect.tsx","pages/feeds/CreateNewFeed.tsx","components/ExpandableListItemLink.tsx","utils/file.ts","utils/image.ts","constants.ts","providers/File.tsx","pages/files/UploadArea.tsx","pages/feeds/FeedSubpage.tsx","providers/Stamps.tsx","pages/feeds/FeedPasswordDialog.tsx","pages/feeds/UpdateFeed.tsx","components/ExpandableListItemNote.tsx","components/ExpandableListItemInput.tsx","utils/local-storage.ts","utils/hash.ts","components/History.tsx","utils/date.ts","pages/files/FileNavigation.tsx","pages/files/Download.tsx","components/Loading.tsx","components/FitImage.tsx","components/StripedWrapper.tsx","pages/files/AssetIcon.tsx","pages/files/AssetPreview.tsx","pages/files/AssetSummary.tsx","pages/files/DownloadActionBar.tsx","pages/files/Share.tsx","components/ProgressIndicator.tsx","pages/stamps/PostageStampCreation.tsx","pages/stamps/PostageStampSelector.tsx","components/Capacity.tsx","pages/stamps/PostageStamp.tsx","pages/files/StampPreview.tsx","pages/files/UploadActionBar.tsx","pages/files/Upload.tsx","pages/files/UploadLander.tsx","utils/threshold.ts","components/TopologyStats.tsx","pages/info/index.tsx","pages/settings/index.tsx","components/ExpandableElement.tsx","pages/stamps/StampsTable.tsx","pages/stamps/index.tsx","pages/stamps/CreatePostageStampPage.tsx","components/TabsContainer.tsx","providers/Platform.tsx","components/CodeBlock.tsx","components/CodeBlockTabs.tsx","components/StatusIcon.tsx","pages/status/SetupSteps/DebugConnectionCheck.tsx","pages/status/SetupSteps/NodeConnectionCheck.tsx","pages/status/SetupSteps/VersionCheck.tsx","pages/status/SetupSteps/EthereumConnectionCheck.tsx","pages/status/SetupSteps/ChequebookDeployFund.tsx","routes.tsx","pages/status/SetupSteps/PeerConnection.tsx","pages/status/index.tsx","components/SideBarItem.tsx","components/SideBarStatus.tsx","components/SideBar.tsx","layout/Dashboard.tsx","theme.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["isInteger","value","BigNumber","isBigNumber","makeBigNumber","toString","TypeError","sleepMs","ms","a","Promise","resolve","setTimeout","unwrapPromiseSettlements","promiseSettledResults","promises","values","fulfilled","filter","promise","status","rejected","map","x","reason","String","makeRetriablePromise","fn","maxRetries","delayMs","reject","tries","results","extractSwarmHash","string","matches","match","uuidV4","replace","s","c","parseInt","crypto","getRandomValues","Uint8Array","formatEnum","charAt","toUpperCase","slice","toLowerCase","replaceAll","secondsToTimeString","seconds","unit","Math","round","toFixed","formatBzz","amount","asString","indexOfSignificantDigit","reachedDecimalPoint","i","length","char","convertDepthToBytes","depth","convertAmountToSeconds","calculateStampPrice","currentPrice","price","shortenText","text","separator","generateWallet","buffer","Wallet","Buffer","from","persistIdentity","identities","identity","existingIndex","findIndex","uuid","splice","unshift","localStorage","setItem","JSON","stringify","persistIdentitiesWithoutUpdate","convertWalletToIdentity","type","name","password","Error","getPrivateKeyString","toV3String","identityString","address","getAddressString","importIdentity","data","getWallet","wallet","startsWith","parse","getWalletFromIdentity","fromPrivateKey","trimHexString","fromV3","updateFeed","beeApi","hash","stamp","feedHash","createFeedManifest","repeat","writer","makeFeedWriter","upload","getProcessEnv","key","process","config","BEE_API_HOST","BEE_DEBUG_API_HOST","BLOCKCHAIN_EXPLORER_URL","BEE_DOCS_HOST","BEE_DISCORD_HOST","GITHUB_REPO_URL","this","sessionStorage","getItem","ErrorBoundary","props","state","error","errorInfo","console","message","children","Component","POSSIBLE_DECIMALS","Token","decimals","includes","BigInt","dividedBy","pow","digits","toDecimal","t","multipliedBy","initialValues","apiUrl","apiDebugUrl","beeDebugApi","setApiUrl","setDebugApiUrl","lockedApiSettings","Context","createContext","Consumer","Provider","beeApiUrl","beeDebugApiUrl","extLockedApiSettings","useState","setBeeApi","setBeeDebugApi","Boolean","url","debugUrl","useEffect","Bee","e","BeeDebug","startedInDevMode","window","location","search","all","version","blockchainConnection","debugApiConnection","apiConnection","topology","chequebook","latestPublishedVersion","undefined","latestUserVersion","latestUserVersionExact","isLatestBeeVersion","latestBeeVersionUrl","apiHealth","debugApiHealth","nodeAddresses","nodeInfo","chequebookAddress","peers","chequebookBalance","peerBalances","peerCheques","settlements","chainState","latestBeeRelease","isLoading","isRefreshing","lastUpdate","start","stop","refresh","getStatus","devMode","REACT_APP_DEV_MODE","beeMode","semver","satisfies","engines","bee","includePrerelease","ethereum","connected","totalBalance","toBigNumber","isGreaterThan","Object","every","v","useContext","SettingsContext","setApiHealth","setDebugApiHealth","setNodeAddresses","setNodeInfo","setNodeTopology","setChequebookAddress","setPeers","setChequebookBalance","setPeerBalances","setPeerCheques","setSettlements","setChainState","setLatestBeeRelease","isLoadingLatestBeeRelease","setLoading","setError","axios","get","then","res","catch","finally","useLatestBeeRelease","setIsLoading","setIsRefreshing","setLastUpdate","frequency","setFrequency","coerce","chequeBalanceWrapper","getChequebookBalance","availableBalance","peerBalanceWrapper","getAllBalances","balances","peer","balance","settlementsWrapper","getAllSettlements","totalReceived","totalSent","received","sent","isConnected","getHealth","getNodeAddresses","getNodeInfo","getTopology","getPeers","getChequebookAddress","getLastCheques","getChainState","allSettled","Date","now","interval","setInterval","clearInterval","html_url","freq","useStyles","makeStyles","theme","createStyles","root","width","marginBottom","spacing","VersionAlert","classes","open","setOpen","isExactlySupportedBeeVersion","SUPPORTED_BEE_VERSION_EXACT","Collapse","in","className","Alert","severity","action","IconButton","color","size","onClick","fontSize","AlertTitle","padding","margin","marginTop","rootLevel1","rootLevel2","header","backgroundColor","palette","background","paper","contentLevel0","contentLevel12","infoText","ExpandableList","label","level","defaultOpen","info","rootLevelClass","typographyVariant","contentLevelClass","ListItem","button","ListItemText","primary","Typography","variant","style","display","ExpandLess","ExpandMore","timeout","unmountOnExit","wordBreak","copyValue","cursor","borderRadius","main","ExpandableListItem","tooltip","Grid","container","direction","justifyContent","alignItems","Tooltip","title","placement","arrow","strokeWidth","wrapper","flexDirection","flexWrap","marginRight","ExpandableListItemActions","Array","isArray","borderLeft","headerOpen","content","keyMargin","ExpandableListItemKey","copied","setCopied","toggleOpen","tooltipClickHandler","tooltipCloseHandler","splitValues","nonPrefixLength","lengthWithoutPrefix","split","hasPrefix","test","spanText","onClose","component","ClipboardCopy","enqueueSnackbar","useSnackbar","marginLeft","height","QRCodeModal","FilterCenterFocusSharp","Dialog","textAlign","DialogTitle","id","bgColor","fgColor","includeMargin","renderAs","EthereumAddress","hideBlockie","paddingTop","truncate","maxWidth","overflow","textOverflow","whiteSpace","href","transaction","target","rel","CheckoutModal","peerId","uncashedAmount","loadingCashout","setLoadingCashout","handleClose","Button","startIcon","substr","DialogContent","DialogContentText","overflowWrap","Container","CircularProgress","DialogActions","cashoutLastCheque","disabled","PeerBalances","accounting","isLoadingUncashed","totalUncashed","toFixedDecimal","total","icon","TroubleshootConnectionCard","item","align","Link","to","ROUTES","STATUS","useAccounting","setIsloadingUncashed","uncashedAmounts","setUncashedAmounts","gt","getLastCashoutAction","forEach","plus","minus","sort","b","diff","toNumber","mergeAccounting","WithdrawDepositModal","successMessage","errorMessage","dialogMessage","min","max","setAmount","amountToken","setAmountToken","amountError","setAmountError","handleAction","toBigInt","transactionHash","stopPropagation","Input","autoFocus","placeholder","fullWidth","onChange","fromDecimal","isLessThan","FormHelperText","WithdrawModal","withdrawTokens","DepositModal","depositTokens","Accounting","BeeContext","position","stroke","transition","cancelButton","spinnerWrapper","left","top","transform","SwarmButton","iconType","loading","cancel","React","createElement","join","event","currentTarget","blur","setIdentities","SwarmDialog","PaperProps","Box","p","sx","CloseButton","fontWeight","TitleWithClose","DeleteFeedDialog","onConfirm","mb","Trash","X","pre","maxHeight","prettifyString","Code","prettify","ExportFeedDialog","Download","saveAs","Blob","Clipboard","navigator","clipboard","writeText","field","border","SwarmTextInput","optional","formik","TextField","required","defaultValue","InputProps","disableUnderline","textarea","displayNone","ImportFeedDialog","textareaValue","setTextareaValue","setName","fileInputRef","useRef","feed","onFeedReady","fileReader","FileReader","file","files","onload","result","readAsText","ref","TextareaAutosize","minRows","Upload","current","click","Check","Feeds","IdentityContext","navigate","useNavigate","selectedIdentity","setSelectedIdentity","showImport","setShowImport","showExport","setShowExport","showDelete","setShowDelete","onDialogClose","updatedFeeds","onDelete","PlusSquare","FEEDS_NEW","mt","FEEDS_PAGE","Info","DocumentationText","pressable","HistoryHeader","mr","ArrowBack","select","option","SwarmSelect","options","Select","MenuProps","MenuListProps","disablePadding","square","MenuItem","identityName","CreateNewFeed","FeedsContext","getAllPostageBatch","stamps","FEEDS","onSubmit","submitForm","bgcolor","openLinkIcon","ExpandableListItemLink","link","navigationType","allowClipboard","displayValue","onNavigation","OpenInNewSharp","ArrowForward","indexHtmls","detectIndexHtml","paths","getPath","exactMatch","find","indexPath","prefix","y","commonPrefix","getHumanReadableFileSize","bytes","getAssetNameFromFiles","f","path","webkitRelativePath","packageFile","fullPath","lastModified","stream","arrayBuffer","resize","reader","readAsDataURL","src","img","Image","dimensions","imgWidth","imgHeight","ratioWidth","ratioHeight","ratio","getDimensions","elem","document","ctx","getContext","drawImage","canvas","toBlob","blob","onerror","META_FILE_NAME","PREVIEW_FILE_NAME","PREVIEW_DIMENSIONS","defaultUploadOrigin","origin","setFiles","uploadOrigin","setUploadOrigin","metadata","setMetadata","previewUri","setPreviewUri","previewBlob","setPreviewBlob","reduce","isWebsite","count","getMetadata","URL","revokeObjectURL","createObjectURL","areaWrapper","dropzone","default","outline","zIndex","opacity","buttonWrapper","UploadArea","showHelp","strictWebsiteMode","setStrictWebsiteMode","setVersion","getDropzoneInputDomElement","querySelector","onUploadCollectionClick","element","setAttribute","dropzoneClass","FilePaths","indexDocument","UPLOAD_IN_PROGRESS","filesLimit","maxFileSize","showPreviews","removeAttribute","FilePlus","FolderPlus","PlusCircle","FeedSubpage","useParams","available","setAvailable","downloadData","swarmCid","enrichStamp","postageBatch","bucketDepth","usage","utilization","usageText","ceil","setStamps","FeedPasswordDialog","feedName","onProceed","onCancel","setPassword","UpdateFeed","StampContext","selectedStamp","setSelectedStamp","showPasswordPrompt","setShowPasswordPrompt","onFeedUpdate","Reflect","batchID","batchId","Bookmark","typography","ExpandableListItemNote","HISTORY_KEYS","unselectableLabel","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","confirmLabel","confirmLabelDisabled","expandedOnly","helperText","mapperFn","locked","inputValue","setInputValue","InputBase","hidden","Search","shortenHash","sliceLength","putHistory","history","getHistorySafe","createdAt","items","parsed","isHistoryItem","determineHistoryName","History","localStorageKey","setItems","date","trim","flexGrow","leftTab","rightTab","FileNavigation","active","Tabs","newValue","DOWNLOAD","UPLOAD","Tab","referenceError","setReferenceError","identifier","manifestJs","ManifestJs","resolveFeedManifest","feedIdentifier","isManifest","getIndexDocumentPath","DOWNLOAD_HISTORY","HASH","onSwarmIdentifier","Utils","isHexString","recognizeSwarmHash","Loading","image","objectFit","FitImage","inlineStyles","alt","StripedWrapper","AssetIcon","AssetPreview","previewComponent","Web","AssetSummary","DownloadActionBar","onOpen","onDownload","onUpdateFeed","hasIndexDocument","Share","reference","downloading","setDownloading","swarmEntries","setSwarmEntries","setIndexDocument","notFound","setNotFound","preview","setPreview","getHashes","entries","previewFile","keys","downloadFile","mtdt","remoteMetadata","zip","JSZip","generateAsync","prepare","FEEDS_UPDATE","flex","todo","inProgress","done","ProgressIndicator","steps","index","pickClass","initialFormValues","PostageStampCreation","onFinished","StampsContext","getPrice","hasInvalidInput","isNaN","isCurrentPriceAvailable","actions","Number","createPostageBatch","resetForm","setSubmitting","validate","errors","isLessThanOrEqualTo","isValid","isSubmitting","PostageStampSelector","onSelect","stampId","Capacity","integerUsage","used","free","PostageStamp","shorten","StampPreview","UploadActionBar","step","onUpload","onGoBack","isUploading","hasStamp","uploadLabel","stampMode","setStampMode","Layers","ArrowLeft","setStep","setStamp","setUploading","FileContext","uploadFiles","fls","idx","substrStart","mtd","metafile","File","push","UPLOAD_HISTORY","UploadLander","OPTIMAL_POPULATION","GENERIC_ERROR","THRESHOLDS","connectedPeers","minimumValue","explanation","score","population","toLocaleString","pickThreshold","thresholds","maximumScore","last","TopologyStats","maximumTotalScore","sum","actualTotalScore","percentageText","Status","publicKey","pssPublicKey","overlay","underlay","addr","Settings","ExpandableElement","expandable","StampsTable","postageStamps","Stamp","STAMPS_NEW","CreatePostageStampPage","STAMPS","TabPanel","other","role","SimpleTabs","indexChanged","setValue","Platforms","SupportedPlatforms","CodeBlock","language","showLineNumbers","code","macOS","Linux","platform","setPlatform","os","userAgent","iOS","Windows","Android","getOS","isSupportedPlatform","CodeBlockTabs","linux","mac","StatusIcon","isOk","NodeConnectionCheck","elevation","VersionCheck","EthereumConnectionCheck","ChequebookDeployFund","PeerConnection","NodeSetupWorkflow","BaseRouter","ACCOUNTING","SETTINGS","INFO","StyledListItem","withStyles","paddingLeft","paddingRight","activeIcon","SideBarItem","iconStart","iconEnd","useLocation","isSelected","matchPath","pathname","selected","disableRipple","ListItemIcon","iconSmall","rootError","smallerText","navBarItems","Home","FileText","DollarSign","minHeight","paddingBottom","drawer","flexShrink","drawerPaper","logo","divider","textDecoration","SideBar","Drawer","anchor","Logo","List","Divider","Dashboard","createTheme","light","dark","orange","secondary","fontFamily","h1","h2","h3","body2","overrides","MuiListItem","MuiContainer","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl","MuiButton","endIcon","outlined","outlinedSizeSmall","boxShadow","outlinedSizeLarge","containedSizeLarge","containedSizeSmall","contained","MuiTab","fontWeightMedium","textColorInherit","MuiTabs","borderBottom","indicator","MuiButtonBase","App","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9ebe2102.chunk.js","sourcesContent":["import { NumberString } from '@ethersphere/bee-js'\nimport { BigNumber } from 'bignumber.js'\n\n/**\n * Test if value is an integer\n *\n * @param value Value to be tested if it is an integer\n *\n * @returns True if the passed in value is integer\n */\nexport function isInteger(value: unknown): value is BigNumber | bigint {\n  return (BigNumber.isBigNumber(value) && value.isInteger()) || typeof value === 'bigint'\n}\n\n/**\n *Convert value into a BigNumber if not already\n *\n * @param value Value to be converted\n *\n * @throws {TypeError} if the value is not convertible to a BigNumber\n *\n * @returns BigNumber - but it may still be NaN or Infinite\n */\nexport function makeBigNumber(value: BigNumber | BigInt | number | string): BigNumber | never {\n  if (BigNumber.isBigNumber(value)) return value\n\n  if (typeof value === 'string') return new BigNumber(value)\n\n  if (typeof value === 'bigint') return new BigNumber(value.toString())\n\n  // FIXME: bee-js still returns some values as numbers and even outside of SAFE INTEGER bounds\n  if (typeof value === 'number' /* && Number.isSafeInteger(value)*/) return new BigNumber(value)\n\n  throw new TypeError(`Not a BigNumber or BigNumber convertible value. Type: ${typeof value} value: ${value}`)\n}\n\nexport type PromiseSettlements<T> = {\n  fulfilled: PromiseFulfilledResult<T>[]\n  rejected: PromiseRejectedResult[]\n}\n\nexport type UnwrappedPromiseSettlements<T> = {\n  fulfilled: T[]\n  rejected: string[]\n}\n\nexport async function sleepMs(ms: number): Promise<void> {\n  await new Promise<void>(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, ms),\n  )\n}\n\n/**\n * Maps the returned results of `Promise.allSettled` to an object\n * with `fulfilled` and `rejected` arrays for easy access.\n *\n * The results still need to be unwrapped to get the fulfilled values or rejection reasons.\n */\nexport function mapPromiseSettlements<T>(promises: PromiseSettledResult<T>[]): PromiseSettlements<T> {\n  const fulfilled = promises.filter(promise => promise.status === 'fulfilled') as PromiseFulfilledResult<T>[]\n  const rejected = promises.filter(promise => promise.status === 'rejected') as PromiseRejectedResult[]\n\n  return { fulfilled, rejected }\n}\n\n/**\n * Maps the returned values of `Promise.allSettled` to an object\n * with `fulfilled` and `rejected` arrays for easy access.\n *\n * For rejected promises, the value is the stringified `reason`,\n * or `'Unknown error'` string when it is unavailable.\n */\nexport function unwrapPromiseSettlements<T>(\n  promiseSettledResults: PromiseSettledResult<T>[],\n): UnwrappedPromiseSettlements<T> {\n  const values = mapPromiseSettlements(promiseSettledResults)\n  const fulfilled = values.fulfilled.map(x => x.value)\n  const rejected = values.rejected.map(x => (x.reason ? String(x.reason) : 'Unknown error'))\n\n  return { fulfilled, rejected }\n}\n\n/**\n * Wraps a `Promise<T>` or async function inside a new `Promise<T>`,\n * which retries the original function up to `maxRetries` times,\n * waiting `delayMs` milliseconds between failed attempts.\n *\n * If all attempts fail, then this `Promise<T>` also rejects.\n */\nexport function makeRetriablePromise<T>(fn: () => Promise<T>, maxRetries = 3, delayMs = 1000): Promise<T> {\n  return new Promise(async (resolve, reject) => {\n    for (let tries = 0; tries < maxRetries; tries++) {\n      try {\n        const results = await fn()\n        resolve(results)\n\n        return\n      } catch (error) {\n        if (tries < maxRetries - 1) {\n          await sleepMs(delayMs)\n        } else {\n          reject(error)\n        }\n      }\n    }\n  })\n}\n\nexport function extractSwarmHash(string: string): string | null {\n  const matches = string.match(/[a-fA-F0-9]{64,128}/)\n\n  return (matches && matches[0]) || null\n}\n\nexport function uuidV4(): string {\n  const pattern = '10000000-1000-4000-8000-100000000000'\n\n  return pattern.replace(/[018]/g, (s: string) => {\n    const c = parseInt(s, 10)\n\n    return (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n  })\n}\n\nexport function formatEnum(string: string): string {\n  return (string.charAt(0).toUpperCase() + string.slice(1).toLowerCase()).replaceAll('_', ' ')\n}\n\nexport function secondsToTimeString(seconds: number): string {\n  let unit = seconds\n\n  if (unit < 120) {\n    return `${seconds} seconds`\n  }\n  unit /= 60\n\n  if (unit < 120) {\n    return `${Math.round(unit)} minutes`\n  }\n  unit /= 60\n\n  if (unit < 48) {\n    return `${Math.round(unit)} hours`\n  }\n  unit /= 24\n\n  if (unit < 14) {\n    return `${Math.round(unit)} days`\n  }\n  unit /= 7\n\n  if (unit < 52) {\n    return `${Math.round(unit)} weeks`\n  }\n  unit /= 52\n\n  return `${unit.toFixed(1)} years`\n}\n\nexport function formatBzz(amount: number): string {\n  const asString = amount.toFixed(16)\n\n  let indexOfSignificantDigit = -1\n  let reachedDecimalPoint = false\n\n  for (let i = 0; i < asString.length; i++) {\n    const char = asString[i]\n\n    if (char === '.') {\n      reachedDecimalPoint = true\n    } else if (reachedDecimalPoint && char !== '0') {\n      indexOfSignificantDigit = i\n      break\n    }\n  }\n\n  return asString.slice(0, indexOfSignificantDigit + 4)\n}\n\nexport function convertDepthToBytes(depth: number): number {\n  return 2 ** depth * 4096\n}\n\nexport function convertAmountToSeconds(amount: number): number {\n  return amount / 10 / 1\n}\n\nexport function calculateStampPrice(depth: number, amount: number, currentPrice: NumberString): number {\n  const price = parseInt(currentPrice, 10)\n\n  return (amount * 2 ** (depth - 16) * price) / 1e16\n}\n\nexport function shortenText(text: string, length = 20, separator = '[]'): string {\n  if (text.length <= length * 2 + separator.length) {\n    return text\n  }\n\n  return `${text.slice(0, length)}${separator}${text.slice(-length)}`\n}\n","import { Bee, Reference } from '@ethersphere/bee-js'\nimport Wallet from 'ethereumjs-wallet'\nimport { uuidV4 } from '.'\nimport { Identity, IdentityType } from '../providers/Feeds'\n\nexport function generateWallet(): Wallet {\n  const buffer = new Uint8Array(32)\n  crypto.getRandomValues(buffer)\n  const wallet = new Wallet(Buffer.from(buffer))\n\n  return wallet\n}\n\nexport function persistIdentity(identities: Identity[], identity: Identity): void {\n  const existingIndex = identities.findIndex(x => x.uuid === identity.uuid)\n\n  if (existingIndex !== -1) {\n    identities.splice(existingIndex, 1)\n  }\n  identities.unshift(identity)\n  localStorage.setItem('feeds', JSON.stringify(identities))\n}\n\nexport function persistIdentitiesWithoutUpdate(identities: Identity[]): void {\n  localStorage.setItem('feeds', JSON.stringify(identities))\n}\n\nexport async function convertWalletToIdentity(\n  identity: Wallet,\n  type: IdentityType,\n  name: string,\n  password?: string,\n): Promise<Identity> {\n  if (type === 'V3' && !password) {\n    throw Error('V3 passwords require password')\n  }\n\n  const identityString =\n    type === 'PRIVATE_KEY' ? identity.getPrivateKeyString() : await identity.toV3String(password as string)\n\n  return {\n    uuid: uuidV4(),\n    name,\n    type: password ? 'V3' : 'PRIVATE_KEY',\n    address: identity.getAddressString(),\n    identity: identityString,\n  }\n}\n\nexport async function importIdentity(name: string, data: string): Promise<Identity | null> {\n  if (data.length === 64) {\n    const wallet = await getWallet('PRIVATE_KEY', data)\n\n    return {\n      uuid: uuidV4(),\n      name,\n      type: 'PRIVATE_KEY',\n      identity: data,\n      address: wallet.getAddressString(),\n    }\n  }\n\n  if (data.length === 66 && data.toLowerCase().startsWith('0x')) {\n    const wallet = await getWallet('PRIVATE_KEY', data.slice(2))\n\n    return { uuid: uuidV4(), name, type: 'PRIVATE_KEY', identity: data, address: wallet.getAddressString() }\n  }\n  try {\n    const { address } = JSON.parse(data)\n\n    return { uuid: uuidV4(), name, type: 'V3', identity: data, address }\n  } catch {\n    return null\n  }\n}\n\nfunction getWalletFromIdentity(identity: Identity, password?: string): Promise<Wallet> {\n  return getWallet(identity.type, identity.identity, password)\n}\n\nasync function getWallet(type: IdentityType, data: string, password?: string): Promise<Wallet> {\n  return type === 'PRIVATE_KEY'\n    ? Wallet.fromPrivateKey(Buffer.from(trimHexString(data), 'hex'))\n    : await Wallet.fromV3(data, password as string)\n}\n\nexport async function updateFeed(\n  beeApi: Bee,\n  identity: Identity,\n  hash: string,\n  stamp: string,\n  password?: string,\n): Promise<void> {\n  const wallet = await getWalletFromIdentity(identity, password)\n\n  if (!identity.feedHash) {\n    identity.feedHash = await beeApi.createFeedManifest(stamp, 'sequence', '00'.repeat(32), wallet.getAddressString())\n  }\n\n  const writer = beeApi.makeFeedWriter('sequence', '00'.repeat(32), wallet.getPrivateKeyString())\n  await writer.upload(stamp, hash as Reference)\n}\n\nfunction trimHexString(string: string): string {\n  if (string.toLowerCase().startsWith('0x')) {\n    return string.slice(2)\n  }\n\n  return string\n}\n","function getProcessEnv(key: string): string | undefined | false {\n  return typeof process === 'object' && process.env[key]\n}\n\nclass Config {\n  public readonly BEE_API_HOST: string\n  public readonly BEE_DEBUG_API_HOST: string\n  public readonly BLOCKCHAIN_EXPLORER_URL: string\n  public readonly BEE_DOCS_HOST: string\n  public readonly BEE_DISCORD_HOST: string\n  public readonly GITHUB_REPO_URL: string\n\n  constructor() {\n    this.BEE_API_HOST =\n      sessionStorage.getItem('api_host') || getProcessEnv('REACT_APP_BEE_HOST') || 'http://localhost:1633'\n    this.BEE_DEBUG_API_HOST =\n      sessionStorage.getItem('debug_api_host') || getProcessEnv('REACT_APP_BEE_DEBUG_HOST') || 'http://localhost:1635'\n    this.BLOCKCHAIN_EXPLORER_URL =\n      getProcessEnv('REACT_APP_BLOCKCHAIN_EXPLORER_URL') || 'https://blockscout.com/xdai/mainnet'\n    this.BEE_DOCS_HOST = getProcessEnv('REACT_APP_BEE_DOCS_HOST') || 'https://docs.ethswarm.org/docs/'\n    this.BEE_DISCORD_HOST = getProcessEnv('REACT_APP_BEE_DISCORD_HOST') || 'https://discord.gg/eKr9XPv7'\n    this.GITHUB_REPO_URL =\n      getProcessEnv('REACT_APP_BEE_GITHUB_REPO_URL') || 'https://api.github.com/repos/ethersphere/bee'\n  }\n}\n\nexport const config = new Config()\n\nexport default config\n","import { Component, ErrorInfo, ReactElement } from 'react'\n\ninterface Props {\n  children: ReactElement\n}\n\ninterface State {\n  error: Error | null\n}\n\nexport default class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  static getDerivedStateFromError(error: Error): { error: Error } {\n    // Update state so the next render will show the fallback UI.\n    return { error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    // You can also log the error to an error reporting service\n    console.error({ error, errorInfo }) // eslint-disable-line\n  }\n\n  render(): ReactElement {\n    if (this.state.error) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong. Error: {this.state.error.message}</h1>\n    }\n\n    return this.props.children\n  }\n}\n","import { BigNumber } from 'bignumber.js'\nimport { isInteger, makeBigNumber } from '../utils'\n\nconst POSSIBLE_DECIMALS = [18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]\ntype digits = typeof POSSIBLE_DECIMALS[number]\n\nconst BZZ_DECIMALS = 16\n\nexport class Token {\n  private amount: BigNumber // Represented in the base units, so it is always an integer value\n  private readonly decimals: digits\n\n  constructor(amount: BigNumber | string | BigInt, decimals: digits = BZZ_DECIMALS) {\n    const a = makeBigNumber(amount)\n\n    if (!isInteger(a) || !POSSIBLE_DECIMALS.includes(decimals)) throw new TypeError('Not a valid token values')\n\n    this.amount = a\n    this.decimals = decimals\n  }\n\n  /**\n   * Construct new Token from a digit representation\n   *\n   * @param amount    Amount of a token in the digits (1 token = 10^decimals)\n   * @param decimals  Number of decimals for the token (must be integer)\n   *\n   * @throws {TypeError} If the decimals is not an integer or the amount after conversion is not an integer\n   *\n   * @returns new Token\n   */\n  static fromDecimal(amount: BigNumber | string | BigInt, decimals: digits = BZZ_DECIMALS): Token | never {\n    const a = makeBigNumber(amount)\n\n    // No need to do any validation here, it is done when the new token is created\n    const t = a.multipliedBy(new BigNumber(10).pow(decimals))\n\n    return new Token(t, decimals)\n  }\n\n  get toBigInt(): BigInt {\n    return BigInt(this.amount.toFixed(0))\n  }\n\n  get toString(): string {\n    return this.amount.toFixed(0)\n  }\n\n  get toBigNumber(): BigNumber {\n    return new BigNumber(this.amount)\n  }\n\n  get toDecimal(): BigNumber {\n    return this.amount.dividedBy(new BigNumber(10).pow(this.decimals))\n  }\n\n  toFixedDecimal(digits = 7): string {\n    return this.toDecimal.toFixed(digits)\n  }\n}\n","import { Bee, BeeDebug } from '@ethersphere/bee-js'\nimport { createContext, ReactChild, ReactElement, useEffect, useState } from 'react'\nimport { config } from '../config'\n\ninterface ContextInterface {\n  apiUrl: string\n  apiDebugUrl: string\n  beeApi: Bee | null\n  beeDebugApi: BeeDebug | null\n  setApiUrl: (url: string) => void\n  setDebugApiUrl: (url: string) => void\n  lockedApiSettings: boolean\n}\n\nconst initialValues: ContextInterface = {\n  apiUrl: config.BEE_API_HOST,\n  apiDebugUrl: config.BEE_DEBUG_API_HOST,\n  beeApi: null,\n  beeDebugApi: null,\n  setApiUrl: () => {}, // eslint-disable-line\n  setDebugApiUrl: () => {}, // eslint-disable-line\n  lockedApiSettings: false,\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n  beeApiUrl?: string\n  beeDebugApiUrl?: string\n  lockedApiSettings?: boolean\n}\n\nexport function Provider({\n  children,\n  beeApiUrl,\n  beeDebugApiUrl,\n  lockedApiSettings: extLockedApiSettings,\n}: Props): ReactElement {\n  const [apiUrl, setApiUrl] = useState<string>(initialValues.apiUrl)\n  const [apiDebugUrl, setDebugApiUrl] = useState<string>(initialValues.apiDebugUrl)\n  const [beeApi, setBeeApi] = useState<Bee | null>(null)\n  const [beeDebugApi, setBeeDebugApi] = useState<BeeDebug | null>(null)\n  const [lockedApiSettings] = useState<boolean>(Boolean(extLockedApiSettings))\n\n  const url = beeApiUrl || apiUrl\n  const debugUrl = beeDebugApiUrl || apiDebugUrl\n\n  useEffect(() => {\n    try {\n      setBeeApi(new Bee(url))\n      sessionStorage.setItem('api_host', url)\n    } catch (e) {\n      setBeeApi(null)\n    }\n  }, [url])\n\n  useEffect(() => {\n    try {\n      setBeeDebugApi(new BeeDebug(debugUrl))\n      sessionStorage.setItem('debug_api_host', debugUrl)\n    } catch (e) {\n      setBeeDebugApi(null)\n    }\n  }, [debugUrl])\n\n  return (\n    <Context.Provider\n      value={{\n        apiUrl: url,\n        apiDebugUrl: debugUrl,\n        beeApi,\n        beeDebugApi,\n        setApiUrl,\n        setDebugApiUrl,\n        lockedApiSettings,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n","import type {\n  ChainState,\n  ChequebookAddressResponse,\n  Health,\n  LastChequesResponse,\n  NodeAddresses,\n  NodesInfo,\n  Peer,\n  Topology,\n} from '@ethersphere/bee-js'\nimport { createContext, ReactChild, ReactElement, useContext, useEffect, useState } from 'react'\nimport semver from 'semver'\nimport { engines } from '../../package.json'\nimport { useLatestBeeRelease } from '../hooks/apiHooks'\nimport { Token } from '../models/Token'\nimport type { Balance, ChequebookBalance, Settlements } from '../types'\nimport { Context as SettingsContext } from './Settings'\n\ninterface Status {\n  all: boolean\n  version: boolean\n  blockchainConnection: boolean\n  debugApiConnection: boolean\n  apiConnection: boolean\n  topology: boolean\n  chequebook: boolean\n}\n\ninterface ContextInterface {\n  status: Status\n  latestPublishedVersion?: string\n  latestUserVersion?: string\n  latestUserVersionExact?: string\n  isLatestBeeVersion: boolean\n  latestBeeVersionUrl: string\n  error: Error | null\n  apiHealth: boolean\n  debugApiHealth: Health | null\n  nodeAddresses: NodeAddresses | null\n  nodeInfo: NodesInfo | null\n  topology: Topology | null\n  chequebookAddress: ChequebookAddressResponse | null\n  peers: Peer[] | null\n  chequebookBalance: ChequebookBalance | null\n  peerBalances: Balance[] | null\n  peerCheques: LastChequesResponse | null\n  settlements: Settlements | null\n  chainState: ChainState | null\n  latestBeeRelease: LatestBeeRelease | null\n  isLoading: boolean\n  isRefreshing: boolean\n  lastUpdate: number | null\n  start: (frequency?: number) => void\n  stop: () => void\n  refresh: () => Promise<void>\n}\n\nconst startedInDevMode = window.location.search.includes('devMode=1')\n\nconst initialValues: ContextInterface = {\n  status: {\n    all: false,\n    version: false,\n    blockchainConnection: false,\n    debugApiConnection: false,\n    apiConnection: false,\n    topology: false,\n    chequebook: false,\n  },\n  latestPublishedVersion: undefined,\n  latestUserVersion: undefined,\n  latestUserVersionExact: undefined,\n  isLatestBeeVersion: false,\n  latestBeeVersionUrl: 'https://github.com/ethersphere/bee/releases/latest',\n  error: null,\n  apiHealth: false,\n  debugApiHealth: null,\n  nodeAddresses: null,\n  nodeInfo: null,\n  topology: null,\n  chequebookAddress: null,\n  peers: null,\n  chequebookBalance: null,\n  peerBalances: null,\n  peerCheques: null,\n  settlements: null,\n  chainState: null,\n  latestBeeRelease: null,\n  isLoading: true,\n  isRefreshing: false,\n  lastUpdate: null,\n  start: () => {}, // eslint-disable-line\n  stop: () => {}, // eslint-disable-line\n  refresh: () => Promise.reject(),\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n}\n\nfunction getStatus(\n  debugApiHealth: Health | null,\n  nodeAddresses: NodeAddresses | null,\n  nodeInfo: NodesInfo | null,\n  apiHealth: boolean,\n  topology: Topology | null,\n  chequebookAddress: ChequebookAddressResponse | null,\n  chequebookBalance: ChequebookBalance | null,\n  error: Error | null,\n): Status {\n  // FIXME: `devMode` is a temporary workaround to be able to develop with only one node\n  const devMode = startedInDevMode || Boolean(process.env.REACT_APP_DEV_MODE) || nodeInfo?.beeMode === 'dev'\n  const status = {\n    version: Boolean(\n      debugApiHealth &&\n        semver.satisfies(debugApiHealth.version, engines.bee, {\n          includePrerelease: true,\n        }),\n    ),\n    blockchainConnection: Boolean(nodeAddresses?.ethereum),\n    debugApiConnection: Boolean(debugApiHealth?.status === 'ok'),\n    apiConnection: apiHealth,\n    topology: Boolean(topology?.connected && topology?.connected > 0) || devMode,\n    chequebook:\n      (Boolean(chequebookAddress?.chequebookAddress) &&\n        chequebookBalance !== null &&\n        chequebookBalance?.totalBalance.toBigNumber.isGreaterThan(0)) ||\n      devMode,\n  }\n\n  return { ...status, all: !error && Object.values(status).every(v => v) }\n}\n\nexport function Provider({ children }: Props): ReactElement {\n  const { beeApi, beeDebugApi } = useContext(SettingsContext)\n  const [apiHealth, setApiHealth] = useState<boolean>(false)\n  const [debugApiHealth, setDebugApiHealth] = useState<Health | null>(null)\n  const [nodeAddresses, setNodeAddresses] = useState<NodeAddresses | null>(null)\n  const [nodeInfo, setNodeInfo] = useState<NodesInfo | null>(null)\n  const [topology, setNodeTopology] = useState<Topology | null>(null)\n  const [chequebookAddress, setChequebookAddress] = useState<ChequebookAddressResponse | null>(null)\n  const [peers, setPeers] = useState<Peer[] | null>(null)\n  const [chequebookBalance, setChequebookBalance] = useState<ChequebookBalance | null>(null)\n  const [peerBalances, setPeerBalances] = useState<Balance[] | null>(null)\n  const [peerCheques, setPeerCheques] = useState<LastChequesResponse | null>(null)\n  const [settlements, setSettlements] = useState<Settlements | null>(null)\n  const [chainState, setChainState] = useState<ChainState | null>(null)\n\n  const { latestBeeRelease } = useLatestBeeRelease()\n\n  const [error, setError] = useState<Error | null>(initialValues.error)\n  const [isLoading, setIsLoading] = useState<boolean>(initialValues.isLoading)\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(initialValues.isRefreshing)\n  const [lastUpdate, setLastUpdate] = useState<number | null>(initialValues.lastUpdate)\n  const [frequency, setFrequency] = useState<number | null>(30000)\n\n  const latestPublishedVersion = semver.coerce(latestBeeRelease?.name)?.version\n  const latestUserVersion = semver.coerce(debugApiHealth?.version)?.version\n  const latestUserVersionExact = debugApiHealth?.version\n\n  useEffect(() => {\n    setIsLoading(true)\n\n    setApiHealth(false)\n\n    refresh()\n  }, [beeApi]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    setIsLoading(true)\n\n    setDebugApiHealth(null)\n    setNodeAddresses(null)\n    setNodeTopology(null)\n    setNodeInfo(null)\n    setPeers(null)\n    setChequebookAddress(null)\n    setChequebookBalance(null)\n    setPeerBalances(null)\n    setPeerCheques(null)\n    setSettlements(null)\n    setChainState(null)\n\n    refresh()\n  }, [beeDebugApi]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const refresh = async () => {\n    // Don't want to refresh when already refreshing\n    if (isRefreshing) return\n\n    // Not a valid bee api\n    if (!beeApi || !beeDebugApi) {\n      setIsLoading(false)\n\n      return\n    }\n\n    try {\n      setIsRefreshing(true)\n      setError(null)\n\n      // Wrap the chequebook balance call to return BZZ values as Token object\n      const chequeBalanceWrapper = async () => {\n        const { totalBalance, availableBalance } = await beeDebugApi.getChequebookBalance()\n\n        return {\n          totalBalance: new Token(totalBalance),\n          availableBalance: new Token(availableBalance),\n        }\n      }\n\n      // Wrap the balances call to return BZZ values as Token object\n      const peerBalanceWrapper = async () => {\n        const { balances } = await beeDebugApi.getAllBalances()\n\n        return balances.map(({ peer, balance }) => ({ peer, balance: new Token(balance) }))\n      }\n\n      // Wrap the settlements call to return BZZ values as Token object\n      const settlementsWrapper = async () => {\n        const { totalReceived, settlements, totalSent } = await beeDebugApi.getAllSettlements()\n\n        return {\n          totalReceived: new Token(totalReceived),\n          totalSent: new Token(totalSent),\n          settlements: settlements.map(({ peer, received, sent }) => ({\n            peer,\n            received: new Token(received),\n            sent: new Token(sent),\n          })),\n        }\n      }\n\n      const promises = [\n        // API health\n        beeApi\n          .isConnected()\n          .then(setApiHealth)\n          .catch(() => setApiHealth(false)),\n\n        // Debug API health\n        beeDebugApi\n          .getHealth()\n          .then(setDebugApiHealth)\n          .catch(() => setDebugApiHealth(null)),\n\n        // Node Addresses\n        beeDebugApi\n          .getNodeAddresses()\n          .then(setNodeAddresses)\n          .catch(() => setNodeAddresses(null)),\n\n        // NodeInfo\n        beeDebugApi\n          .getNodeInfo()\n          .then(setNodeInfo)\n          .catch(() => setNodeInfo(null)),\n\n        // Network Topology\n        beeDebugApi\n          .getTopology()\n          .then(setNodeTopology)\n          .catch(() => setNodeTopology(null)),\n\n        // Peers\n        beeDebugApi\n          .getPeers()\n          .then(setPeers)\n          .catch(() => setPeers(null)),\n\n        // Chequebook address\n        beeDebugApi\n          .getChequebookAddress()\n          .then(setChequebookAddress)\n          .catch(() => setChequebookAddress(null)),\n\n        // Cheques\n        beeDebugApi\n          .getLastCheques()\n          .then(setPeerCheques)\n          .catch(() => setPeerCheques(null)),\n\n        // Chain state\n        beeDebugApi\n          .getChainState()\n          .then(setChainState)\n          .catch(() => setChainState(null)),\n\n        // Chequebook balance\n        chequeBalanceWrapper()\n          .then(setChequebookBalance)\n          .catch(() => setChequebookBalance(null)),\n\n        // Peer balances\n        peerBalanceWrapper()\n          .then(setPeerBalances)\n          .catch(() => setPeerBalances(null)),\n\n        // Settlements\n        settlementsWrapper()\n          .then(setSettlements)\n          .catch(() => setSettlements(null)),\n      ]\n\n      await Promise.allSettled(promises)\n    } catch (e) {\n      setError(e as Error)\n    } finally {\n      setIsLoading(false)\n      setIsRefreshing(false)\n      setLastUpdate(Date.now())\n    }\n  }\n\n  const start = (freq = 30000) => setFrequency(freq)\n  const stop = () => setFrequency(null)\n\n  // Start the update loop\n  useEffect(() => {\n    refresh()\n\n    // Start autorefresh only if the frequency is set\n    if (frequency) {\n      const interval = setInterval(refresh, frequency)\n\n      return () => clearInterval(interval)\n    }\n  }, [frequency, beeDebugApi, beeApi]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Context.Provider\n      value={{\n        status: getStatus(\n          debugApiHealth,\n          nodeAddresses,\n          nodeInfo,\n          apiHealth,\n          topology,\n          chequebookAddress,\n          chequebookBalance,\n          error,\n        ),\n        latestUserVersion,\n        latestUserVersionExact,\n        latestPublishedVersion,\n        isLatestBeeVersion: Boolean(\n          latestPublishedVersion &&\n            latestUserVersion &&\n            semver.satisfies(latestPublishedVersion, latestUserVersion, {\n              includePrerelease: true,\n            }),\n        ),\n        latestBeeVersionUrl: latestBeeRelease?.html_url || 'https://github.com/ethersphere/bee/releases/latest',\n        error,\n        apiHealth,\n        debugApiHealth,\n        nodeAddresses,\n        nodeInfo,\n        topology,\n        chequebookAddress,\n        peers,\n        chequebookBalance,\n        peerBalances,\n        peerCheques,\n        settlements,\n        chainState,\n        latestBeeRelease,\n        isLoading,\n        isRefreshing,\n        lastUpdate,\n        start,\n        stop,\n        refresh,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n","import axios from 'axios'\nimport { useEffect, useState } from 'react'\nimport { config } from '../config'\n\nexport interface LatestBeeReleaseHook {\n  latestBeeRelease: LatestBeeRelease | null\n  isLoadingLatestBeeRelease: boolean\n  error: Error | null\n}\n\nexport const useLatestBeeRelease = (): LatestBeeReleaseHook => {\n  const [latestBeeRelease, setLatestBeeRelease] = useState<LatestBeeRelease | null>(null)\n  const [isLoadingLatestBeeRelease, setLoading] = useState<boolean>(false)\n  const [error, setError] = useState<Error | null>(null)\n\n  useEffect(() => {\n    axios\n      .get(`${config.GITHUB_REPO_URL}/releases/latest`)\n      .then(res => {\n        setLatestBeeRelease(res.data)\n      })\n      .catch((error: Error) => {\n        setError(error)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }, [])\n\n  return { latestBeeRelease, isLoadingLatestBeeRelease, error }\n}\n","import { ReactElement, useState, useContext } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Alert, AlertTitle } from '@material-ui/lab'\nimport Collapse from '@material-ui/core/Collapse'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { Context } from '../providers/Bee'\nimport { SUPPORTED_BEE_VERSION_EXACT } from '@ethersphere/bee-js'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      marginBottom: theme.spacing(2),\n    },\n  }),\n)\n\nexport default function VersionAlert(): ReactElement | null {\n  const classes = useStyles()\n  const { isLoading, latestUserVersionExact } = useContext(Context)\n  const [open, setOpen] = useState<boolean>(true)\n\n  const isExactlySupportedBeeVersion = SUPPORTED_BEE_VERSION_EXACT === latestUserVersionExact\n\n  if (isLoading || !latestUserVersionExact) return null\n\n  return (\n    <Collapse in={!isExactlySupportedBeeVersion && open}>\n      <div className={classes.root}>\n        <Alert\n          severity=\"warning\"\n          action={\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              onClick={() => {\n                setOpen(false)\n              }}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }\n        >\n          <AlertTitle>Warning</AlertTitle>\n          Your Bee node version (<code>{latestUserVersionExact}</code>) does not exactly match the Bee version we tested\n          the Bee Dashboard against (<code>{SUPPORTED_BEE_VERSION_EXACT}</code>). Please note that some functionality\n          may not work properly.\n        </Alert>\n      </div>\n    </Collapse>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo.3d1155fe.svg\";","import { ReactElement, ReactNode, useState } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Collapse, ListItem, ListItemText, Typography } from '@material-ui/core'\nimport { ExpandLess, ExpandMore } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      padding: 0,\n      margin: 0,\n      marginTop: theme.spacing(4),\n      '&:first-child': {\n        marginTop: 0,\n      },\n    },\n    rootLevel1: { marginTop: theme.spacing(1) },\n    rootLevel2: { marginTop: theme.spacing(0.5) },\n    header: {\n      backgroundColor: theme.palette.background.paper,\n    },\n    contentLevel0: {\n      marginTop: theme.spacing(1),\n    },\n    contentLevel12: {\n      marginTop: theme.spacing(0.25),\n    },\n    infoText: {\n      color: '#c9c9c9',\n    },\n  }),\n)\n\ninterface Props {\n  children?: ReactNode\n  label: ReactNode\n  info?: ReactNode\n  level?: 0 | 1 | 2\n  defaultOpen?: boolean\n}\n\nexport default function ExpandableList({ children, label, level, defaultOpen, info }: Props): ReactElement | null {\n  const classes = useStyles()\n  const [open, setOpen] = useState<boolean>(Boolean(defaultOpen))\n\n  const handleClick = () => {\n    setOpen(!open)\n  }\n\n  let rootLevelClass = ''\n  let typographyVariant: 'h1' | 'h2' | 'h3' = 'h1'\n  let contentLevelClass = classes.contentLevel0\n\n  if (level === 1) {\n    rootLevelClass = classes.rootLevel1\n    typographyVariant = 'h2'\n    contentLevelClass = classes.contentLevel12\n  } else if (level === 2) {\n    rootLevelClass = classes.rootLevel2\n    typographyVariant = 'h3'\n    contentLevelClass = classes.contentLevel12\n  }\n\n  return (\n    <div className={`${classes.root} ${rootLevelClass}`}>\n      <ListItem button onClick={handleClick} className={classes.header}>\n        <ListItemText primary={<Typography variant={typographyVariant}>{label}</Typography>} />\n        <div style={{ display: 'flex' }}>\n          {!open && (\n            <Typography variant=\"body2\" className={classes.infoText}>\n              {info}\n            </Typography>\n          )}\n          {open ? <ExpandLess /> : <ExpandMore />}\n        </div>\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div className={contentLevelClass}>{children}</div>\n      </Collapse>\n    </div>\n  )\n}\n","import { ReactElement, ReactNode } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography, Grid, IconButton, Tooltip } from '@material-ui/core'\nimport { Info } from 'react-feather'\nimport ListItem from '@material-ui/core/ListItem'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      backgroundColor: theme.palette.background.paper,\n      marginBottom: theme.spacing(0.25),\n      wordBreak: 'break-word',\n    },\n    copyValue: {\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n      },\n    },\n  }),\n)\n\ninterface Props {\n  label?: ReactNode\n  value?: ReactNode\n  tooltip?: string\n}\n\nexport default function ExpandableListItem({ label, value, tooltip }: Props): ReactElement | null {\n  const classes = useStyles()\n\n  return (\n    <ListItem className={classes.header}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n        {label && <Typography variant=\"body1\">{label}</Typography>}\n        {value && (\n          <Typography variant=\"body2\">\n            {value}\n            {tooltip && (\n              <Tooltip title={tooltip} placement=\"top\" arrow>\n                <IconButton size=\"small\" className={classes.copyValue}>\n                  <Info strokeWidth={1} />\n                </IconButton>\n              </Tooltip>\n            )}\n          </Typography>\n        )}\n      </Grid>\n    </ListItem>\n  )\n}\n","import { Grid } from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { ReactElement, ReactNode } from 'react'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n    },\n    action: {\n      marginBottom: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n  }),\n)\n\ninterface Props {\n  children: ReactNode | ReactNode[]\n}\n\nexport default function ExpandableListItemActions({ children }: Props): ReactElement | null {\n  const classes = useStyles()\n\n  if (Array.isArray(children)) {\n    return (\n      <div className={classes.wrapper}>\n        {children\n          // Exclude falsy values to allow conditional rendering\n          .filter(x => x)\n          .map((a, i) => (\n            <div key={i} className={classes.action}>\n              {a}\n            </div>\n          ))}\n      </div>\n    )\n  }\n\n  return (\n    <Grid container direction=\"row\">\n      <Grid className={classes.action}>{children}</Grid>\n    </Grid>\n  )\n}\n","import { Grid, IconButton, ListItem, Tooltip, Typography } from '@material-ui/core'\nimport Collapse from '@material-ui/core/Collapse'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { ReactElement, useState } from 'react'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Eye, Minus } from 'react-feather'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      backgroundColor: theme.palette.background.paper,\n      marginBottom: theme.spacing(0.25),\n      borderLeft: `${theme.spacing(0.25)}px solid rgba(0,0,0,0)`,\n      wordBreak: 'break-word',\n    },\n    headerOpen: {\n      borderLeft: `${theme.spacing(0.25)}px solid ${theme.palette.primary.main}`,\n    },\n    copyValue: {\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n      },\n    },\n    content: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n    keyMargin: {\n      marginRight: theme.spacing(1),\n    },\n  }),\n)\n\ninterface Props {\n  label: string\n  value: string\n}\n\nconst lengthWithoutPrefix = (s: string) => s.replace(/^0x/i, '').length\n\nfunction isPrefixedHexString(s: unknown): boolean {\n  return typeof s === 'string' && /^0x[0-9a-f]+$/i.test(s)\n}\n\nconst split = (s: string): string[] => {\n  const nonPrefixLength = lengthWithoutPrefix(s)\n\n  if (nonPrefixLength % 6 === 0) return s.match(/(0x|.{6})/gi) || []\n\n  return s.match(/(0x|.{1,8})/gi) || []\n}\n\nexport default function ExpandableListItemKey({ label, value }: Props): ReactElement | null {\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const [copied, setCopied] = useState(false)\n  const toggleOpen = () => setOpen(!open)\n\n  const tooltipClickHandler = () => setCopied(true)\n  const tooltipCloseHandler = () => setCopied(false)\n\n  const splitValues = split(value)\n  const hasPrefix = isPrefixedHexString(value)\n  const spanText = `${hasPrefix ? `${splitValues[0]} ${splitValues[1]}` : splitValues[0]}[]${\n    splitValues[splitValues.length - 1]\n  }`\n\n  return (\n    <ListItem className={`${classes.header} ${open ? classes.headerOpen : ''}`}>\n      <Grid container direction=\"column\" justifyContent=\"space-between\" alignItems=\"stretch\">\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n          {label && <Typography variant=\"body1\">{label}</Typography>}\n          <Typography variant=\"body2\">\n            <div>\n              {!open && (\n                <span className={classes.copyValue}>\n                  <Tooltip title={copied ? 'Copied' : 'Copy'} placement=\"top\" arrow onClose={tooltipCloseHandler}>\n                    <CopyToClipboard text={value}>\n                      <span onClick={tooltipClickHandler}>{value ? spanText : ''}</span>\n                    </CopyToClipboard>\n                  </Tooltip>\n                </span>\n              )}\n              <IconButton size=\"small\" className={classes.copyValue}>\n                {open ? <Minus onClick={toggleOpen} strokeWidth={1} /> : <Eye onClick={toggleOpen} strokeWidth={1} />}\n              </IconButton>\n            </div>\n          </Typography>\n        </Grid>\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <div className={classes.content}>\n            <Tooltip title={copied ? 'Copied' : 'Copy'} placement=\"top\" arrow onClose={tooltipCloseHandler}>\n              <CopyToClipboard text={value}>\n                {/* This has to be wrapped in two spans otherwise either the tooltip or the highlighting does not work*/}\n                <span onClick={tooltipClickHandler}>\n                  <span className={classes.copyValue}>\n                    {splitValues.map((s, i) => (\n                      <Typography variant=\"body2\" key={i} className={classes.keyMargin} component=\"span\">\n                        {s}\n                      </Typography>\n                    ))}\n                  </span>\n                </span>\n              </CopyToClipboard>\n            </Tooltip>\n          </div>\n        </Collapse>\n      </Grid>\n    </ListItem>\n  )\n}\n","import type { ReactElement } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Clipboard } from 'react-feather'\nimport { useSnackbar } from 'notistack'\n\ninterface Props {\n  value: string\n}\n\nexport default function ClipboardCopy({ value }: Props): ReactElement {\n  const { enqueueSnackbar } = useSnackbar()\n  const handleCopy = () => enqueueSnackbar(`Copied: ${value}`, { variant: 'success' })\n\n  return (\n    <div style={{ marginRight: '3px', marginLeft: '3px' }}>\n      <IconButton color=\"primary\" size=\"small\" onClick={handleCopy}>\n        <CopyToClipboard text={value}>\n          <Clipboard style={{ height: '20px' }} />\n        </CopyToClipboard>\n      </IconButton>\n    </div>\n  )\n}\n","import { ReactElement, useState } from 'react'\nimport QRCode from 'qrcode.react'\nimport { IconButton, Dialog, DialogTitle } from '@material-ui/core'\nimport { FilterCenterFocusSharp } from '@material-ui/icons'\n\ninterface Props {\n  value: string\n  label: string\n}\n\nexport default function QRCodeModal(props: Props): ReactElement {\n  const [open, setOpen] = useState(false)\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  return (\n    <div>\n      <IconButton color=\"primary\" size=\"small\" onClick={handleOpen}>\n        <FilterCenterFocusSharp />\n      </IconButton>\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n        <div style={{ padding: '30px', textAlign: 'center' }}>\n          <DialogTitle id=\"simple-dialog-title\">{props.label}</DialogTitle>\n          <QRCode\n            value={props.value}\n            size={150}\n            bgColor={'#ffffff'}\n            fgColor={'#000000'}\n            level={'L'}\n            includeMargin={false}\n            renderAs={'svg'}\n          />\n        </div>\n      </Dialog>\n    </div>\n  )\n}\n","import { Typography } from '@material-ui/core/'\nimport { ReactElement } from 'react'\nimport Identicon from 'react-identicons'\nimport { config } from '../config'\nimport ClipboardCopy from './ClipboardCopy'\nimport QRCodeModal from './QRCodeModal'\n\ninterface Props {\n  address: string | undefined\n  hideBlockie?: boolean\n  transaction?: boolean\n  truncate?: boolean\n}\n\nexport default function EthereumAddress(props: Props): ReactElement {\n  return (\n    <Typography component=\"div\" variant=\"subtitle1\">\n      {props.address ? (\n        <div style={{ display: 'flex' }}>\n          {props.hideBlockie ? null : (\n            <div style={{ paddingTop: '5px', marginRight: '10px' }}>\n              <Identicon size={20} string={props.address} />\n            </div>\n          )}\n          <div>\n            <a\n              style={\n                props.truncate\n                  ? {\n                      marginRight: '7px',\n                      maxWidth: '200px',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap',\n                      display: 'block',\n                    }\n                  : { marginRight: '7px' }\n              }\n              href={`${config.BLOCKCHAIN_EXPLORER_URL}/${props.transaction ? 'tx' : 'address'}/${props.address}`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {props.address}\n            </a>\n          </div>\n          <QRCodeModal value={props.address} label={'Ethereum Address'} />\n          <ClipboardCopy value={props.address} />\n        </div>\n      ) : (\n        '-'\n      )}\n    </Typography>\n  )\n}\n","import { CircularProgress, Container } from '@material-ui/core'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useState, useContext } from 'react'\nimport { Zap } from 'react-feather'\nimport { Context as SettingsContext } from '../providers/Settings'\nimport EthereumAddress from './EthereumAddress'\n\ninterface Props {\n  peerId: string\n  uncashedAmount: string\n}\n\nexport default function CheckoutModal({ peerId, uncashedAmount }: Props): ReactElement {\n  const [open, setOpen] = useState<boolean>(false)\n  const [loadingCashout, setLoadingCashout] = useState<boolean>(false)\n  const { enqueueSnackbar } = useSnackbar()\n  const { beeDebugApi } = useContext(SettingsContext)\n\n  const handleClickOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleCashout = () => {\n    if (!beeDebugApi) return\n\n    if (peerId) {\n      setLoadingCashout(true)\n      beeDebugApi\n        .cashoutLastCheque(peerId)\n        .then(res => {\n          setOpen(false)\n          enqueueSnackbar(\n            <span>\n              Successfully cashed out cheque. Transaction\n              <EthereumAddress hideBlockie transaction address={res} />\n            </span>,\n            { variant: 'success' },\n          )\n        })\n        .catch((e: Error) => {\n          enqueueSnackbar(<span>Error: {e.message}</span>, { variant: 'error' })\n        })\n        .finally(() => {\n          setLoadingCashout(false)\n        })\n    } else {\n      enqueueSnackbar(<span>Peer Id invalid</span>, { variant: 'error' })\n    }\n  }\n\n  return (\n    <div>\n      <Button variant=\"contained\" onClick={handleClickOpen} startIcon={<Zap size=\"1rem\" />}>\n        Cash out peer {peerId.substr(0, 8)}[]\n      </Button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Cashout Cheque</DialogTitle>\n        <DialogContent>\n          <DialogContentText style={{ marginTop: '20px', overflowWrap: 'break-word' }}>\n            {loadingCashout && (\n              <>\n                <span>\n                  Cashing out <strong>{uncashedAmount}</strong> from Peer <strong>{peerId}</strong>. Please wait...\n                </span>\n                <Container style={{ textAlign: 'center', padding: '50px' }}>\n                  <CircularProgress />\n                </Container>\n              </>\n            )}\n            {!loadingCashout && (\n              <span>\n                Are you sure you want to cashout <strong>{uncashedAmount} BZZ</strong> from Peer{' '}\n                <strong>{peerId}</strong>?\n              </span>\n            )}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleCashout} color=\"primary\" disabled={loadingCashout}>\n            Yes Cashout\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import type { ReactElement } from 'react'\n\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItem from '../../components/ExpandableListItem'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\n\nimport CashoutModal from '../../components/CashoutModal'\nimport { Accounting } from '../../hooks/accounting'\nimport type { Token } from '../../models/Token'\n\ninterface Props {\n  isLoadingUncashed: boolean\n  totalUncashed: Token\n  accounting: Accounting[] | null\n}\n\nexport default function PeerBalances({ accounting, isLoadingUncashed, totalUncashed }: Props): ReactElement | null {\n  return (\n    <ExpandableList\n      label={`Peers (${accounting?.length || 0})`}\n      info={`${totalUncashed.toFixedDecimal()} BZZ (uncashed)`}\n    >\n      <ExpandableListItem label=\"Uncashed Amount Total\" value={`${totalUncashed.toFixedDecimal()} BZZ`} />\n      {accounting?.map(({ peer, balance, received, sent, uncashedAmount, total }) => (\n        <ExpandableList\n          key={peer}\n          label={`Peer ${peer.substr(0, 8)}[]`}\n          level={1}\n          info={`${uncashedAmount.toFixedDecimal()} BZZ (uncashed)`}\n        >\n          <ExpandableListItemKey label=\"Peer ID\" value={peer} />\n          <ExpandableListItem label=\"Outstanding Balance\" value={`${balance.toFixedDecimal()} BZZ`} />\n          <ExpandableListItem\n            label=\"Settlements Sent / Received\"\n            value={`-${sent.toFixedDecimal()} / ${received.toFixedDecimal()} BZZ`}\n          />\n          <ExpandableListItem label=\"Total\" value={`${total.toFixedDecimal()} BZZ`} />\n          <ExpandableListItem\n            label=\"Uncashed Amount\"\n            value={isLoadingUncashed ? 'loading' : `${uncashedAmount.toFixedDecimal()} BZZ`}\n          />\n          {uncashedAmount.toBigNumber.isGreaterThan('0') && (\n            <ExpandableListItemActions>\n              <CashoutModal uncashedAmount={uncashedAmount.toFixedDecimal()} peerId={peer} />\n            </ExpandableListItemActions>\n          )}\n        </ExpandableList>\n      ))}\n    </ExpandableList>\n  )\n}\n","import { Button, Grid, Link as MuiLink, Typography } from '@material-ui/core/'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport type { ReactElement } from 'react'\nimport { Activity } from 'react-feather'\nimport { Link } from 'react-router-dom'\nimport { config } from '../config'\nimport { ROUTES } from '../routes'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: '100%',\n    },\n    content: {\n      maxWidth: 500,\n      marginBottom: theme.spacing(4),\n      '&:last-child': {\n        marginBottom: 0,\n      },\n    },\n    icon: {\n      height: '1rem',\n    },\n  }),\n)\n\nexport default function TroubleshootConnectionCard(): ReactElement {\n  const classes = useStyles()\n\n  return (\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" className={classes.root}>\n      <Grid item className={classes.content}>\n        <Typography variant=\"h1\" align=\"center\">\n          Uh oh, it looks like your node is not connected.\n        </Typography>\n      </Grid>\n      <Grid item className={classes.content}>\n        <Typography align=\"center\">\n          Please check your node status to fix the problem. You can also check out the{' '}\n          <MuiLink href={config.BEE_DOCS_HOST} target=\"_blank\" rel=\"noreferrer\">\n            Swarm Bee Docs\n          </MuiLink>{' '}\n          or ask for support on the{' '}\n          <MuiLink href={config.BEE_DISCORD_HOST} target=\"_blank\" rel=\"noreferrer\">\n            Ethereum Swarm Discord\n          </MuiLink>\n          .\n        </Typography>\n      </Grid>\n      <Grid item className={classes.content}>\n        <Typography align=\"center\">\n          <Button\n            component={Link}\n            variant=\"contained\"\n            startIcon={<Activity className={classes.icon} />}\n            to={ROUTES.STATUS}\n          >\n            Check node status\n          </Button>\n        </Typography>\n      </Grid>\n    </Grid>\n  )\n}\n","import { LastCashoutActionResponse, BeeDebug } from '@ethersphere/bee-js'\nimport { useEffect, useState } from 'react'\nimport { Token } from '../models/Token'\nimport { makeRetriablePromise, unwrapPromiseSettlements } from '../utils'\nimport { Balance, Settlements, Settlement } from '../types'\n\ninterface UseAccountingHook {\n  isLoadingUncashed: boolean\n  totalUncashed: Token\n  accounting: Accounting[] | null\n}\n\nexport interface Accounting {\n  peer: string\n  uncashedAmount: Token\n  balance: Token\n  received: Token\n  sent: Token\n  total: Token\n}\n\n/**\n * Merges the balances, settlements and uncashedAmounts arrays into single array which is sorted by uncashed amounts (if any)\n *\n * @param balances         Balances for all peers\n * @param settlements      Settlements for all peers which has some settlement\n * @param uncashedAmounts  Array of getPeerLastCashout responses which is needed to calculate uncashed amount\n *\n * @returns\n */\nfunction mergeAccounting(\n  balances: Balance[] | null,\n  settlements?: Settlement[],\n  uncashedAmounts?: LastCashoutActionResponse[],\n): Accounting[] | null {\n  // Settlements or balances are still loading or there is an error -> return null\n  if (!balances || !settlements) return null\n\n  const accounting: Record<string, Accounting> = {}\n\n  balances.forEach(\n    // Some peers may not have settlement but all have balance (therefore initialize sent, received and uncashed to 0)\n    ({ peer, balance }) =>\n      (accounting[peer] = {\n        peer,\n        balance,\n        sent: new Token('0'),\n        received: new Token('0'),\n        uncashedAmount: new Token('0'),\n        total: balance,\n      }),\n  )\n\n  settlements.forEach(\n    ({ peer, sent, received }) =>\n      (accounting[peer] = {\n        ...accounting[peer],\n        sent,\n        received,\n        total: new Token(accounting[peer].balance.toBigNumber.plus(received.toBigNumber).minus(sent.toBigNumber)),\n      }),\n  )\n\n  // If there are no cheques (and hence last cashout actions)\n  if (!uncashedAmounts) return Object.values(accounting).sort((a, b) => (a.peer < b.peer ? -1 : 1))\n\n  uncashedAmounts?.forEach(({ peer, uncashedAmount }) => {\n    accounting[peer].uncashedAmount = new Token(uncashedAmount)\n  })\n\n  // Return sorted by the uncashed amount first and then by the peer id\n  return Object.values(accounting).sort((a, b) => {\n    const diff = b.uncashedAmount.toBigNumber.minus(a.uncashedAmount.toBigNumber).toNumber()\n\n    if (diff !== 0) return diff\n\n    return a.peer < b.peer ? -1 : 1\n  })\n}\n\nexport const useAccounting = (\n  beeDebugApi: BeeDebug | null,\n  settlements: Settlements | null,\n  balances: Balance[] | null,\n): UseAccountingHook => {\n  const [isLoadingUncashed, setIsloadingUncashed] = useState<boolean>(false)\n  const [uncashedAmounts, setUncashedAmounts] = useState<LastCashoutActionResponse[] | undefined>(undefined)\n\n  useEffect(() => {\n    // We don't have any settlements loaded yet or we are already loading/have loaded the uncashed amounts\n    if (isLoadingUncashed || !beeDebugApi || !settlements || uncashedAmounts) return\n\n    setIsloadingUncashed(true)\n    const promises = settlements.settlements\n      .filter(({ received }) => received.toBigNumber.gt('0'))\n      .map(({ peer }) => makeRetriablePromise(() => beeDebugApi.getLastCashoutAction(peer)))\n\n    Promise.allSettled(promises).then(settlements => {\n      const results = unwrapPromiseSettlements(settlements)\n      setUncashedAmounts(results.fulfilled)\n      setIsloadingUncashed(false)\n    })\n  }, [settlements, isLoadingUncashed, uncashedAmounts, beeDebugApi])\n\n  const accounting = mergeAccounting(balances, settlements?.settlements, uncashedAmounts)\n\n  let totalUncashed: Token = new Token('0')\n  accounting?.forEach(\n    ({ uncashedAmount }) => (totalUncashed = new Token(totalUncashed.toBigNumber.plus(uncashedAmount.toBigNumber))),\n  )\n\n  return {\n    isLoadingUncashed,\n    totalUncashed,\n    accounting,\n  }\n}\n","import { ReactElement, ReactNode, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Input from '@material-ui/core/Input'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { Token } from '../models/Token'\nimport type { BigNumber } from 'bignumber.js'\nimport { useSnackbar } from 'notistack'\n\ninterface Props {\n  successMessage: string\n  errorMessage: string\n  dialogMessage: string\n  label: string\n  max?: BigNumber\n  min?: BigNumber\n  action: (amount: bigint) => Promise<string>\n  icon?: ReactNode\n}\n\nexport default function WithdrawDepositModal({\n  successMessage,\n  errorMessage,\n  dialogMessage,\n  min,\n  max,\n  label,\n  action,\n  icon,\n}: Props): ReactElement {\n  const [open, setOpen] = useState(false)\n  const [amount, setAmount] = useState('')\n  const [amountToken, setAmountToken] = useState<Token | null>(null)\n  const [amountError, setAmountError] = useState<Error | null>(null)\n  const { enqueueSnackbar } = useSnackbar()\n\n  const handleClickOpen = (e: React.MouseEvent<HTMLButtonElement>) => {\n    setOpen(true)\n    e.stopPropagation()\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleAction = async () => {\n    if (amountToken === null) return\n\n    try {\n      const transactionHash = await action(amountToken.toBigInt as bigint)\n      setOpen(false)\n      enqueueSnackbar(`${successMessage} Transaction ${transactionHash}`, { variant: 'success' })\n    } catch (e) {\n      enqueueSnackbar(`${errorMessage} Error: ${(e as Error).message}`, { variant: 'error' })\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    const value = e.target.value\n    setAmount(value)\n    setAmountError(null)\n    try {\n      const t = Token.fromDecimal(value)\n      setAmountToken(t)\n\n      if (min && t.toDecimal.isLessThan(min)) setAmountError(new Error(`Needs to be more than ${min}`))\n\n      if (max && t.toDecimal.isGreaterThan(max)) setAmountError(new Error(`Needs to be less than ${max}`))\n    } catch (e) {\n      setAmountError(e as Error)\n    }\n  }\n\n  return (\n    <div>\n      <Button variant=\"contained\" onClick={handleClickOpen} startIcon={icon}>\n        {label}\n      </Button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{label}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>{dialogMessage}</DialogContentText>\n          <Input\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            type=\"text\"\n            placeholder=\"Amount\"\n            fullWidth\n            value={amount}\n            onChange={handleChange}\n          />\n          {amountError && (\n            <FormHelperText error>\n              Please provide valid BZZ amount (max 16 decimals). Error: {amountError.message}\n            </FormHelperText>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleAction} color=\"primary\">\n            {label}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import { BigNumber } from 'bignumber.js'\nimport { ReactElement, useContext } from 'react'\nimport { Upload } from 'react-feather'\nimport WithdrawDepositModal from '../components/WithdrawDepositModal'\nimport { Context as SettingsContext } from '../providers/Settings'\n\nexport default function WithdrawModal(): ReactElement {\n  const { beeDebugApi } = useContext(SettingsContext)\n\n  return (\n    <WithdrawDepositModal\n      successMessage=\"Successful withdrawal.\"\n      errorMessage=\"Error with withdrawing.\"\n      dialogMessage=\"Specify the amount of BZZ you would like to withdraw from your node.\"\n      label=\"Withdraw\"\n      icon={<Upload size=\"1rem\" />}\n      min={new BigNumber(0)}\n      action={(amount: bigint) => {\n        if (!beeDebugApi) throw new Error('Bee Debug URL is not valid')\n\n        return beeDebugApi.withdrawTokens(amount.toString())\n      }}\n    />\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport { Download } from 'react-feather'\nimport { Context as SettingsContext } from '../providers/Settings'\n\nimport WithdrawDepositModal from '../components/WithdrawDepositModal'\nimport { BigNumber } from 'bignumber.js'\n\nexport default function DepositModal(): ReactElement {\n  const { beeDebugApi } = useContext(SettingsContext)\n\n  return (\n    <WithdrawDepositModal\n      successMessage=\"Successful deposit.\"\n      errorMessage=\"Error with depositing\"\n      dialogMessage=\"Specify the amount of BZZ you would like to deposit to your node.\"\n      label=\"Deposit\"\n      icon={<Download size=\"1rem\" />}\n      min={new BigNumber(0)}\n      action={(amount: bigint) => {\n        if (!beeDebugApi) throw new Error('Bee Debug URL is not valid')\n\n        return beeDebugApi.depositTokens(amount.toString())\n      }}\n    />\n  )\n}\n","import { ReactElement, useContext } from 'react'\n\nimport PeerBalances from './PeerBalances'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { useAccounting } from '../../hooks/accounting'\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItem from '../../components/ExpandableListItem'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport WithdrawModal from '../../containers/WithdrawModal'\nimport DepositModal from '../../containers/DepositModal'\n\nexport default function Accounting(): ReactElement {\n  const { status, nodeAddresses, chequebookAddress, chequebookBalance, settlements, peerBalances } =\n    useContext(BeeContext)\n  const { beeDebugApi } = useContext(SettingsContext)\n\n  const { accounting, totalUncashed, isLoadingUncashed } = useAccounting(beeDebugApi, settlements, peerBalances)\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  return (\n    <div>\n      <ExpandableList label=\"Chequebook\" defaultOpen>\n        <ExpandableListItem label=\"Total Balance\" value={`${chequebookBalance?.totalBalance.toFixedDecimal()} BZZ`} />\n        <ExpandableListItem\n          label=\"Available Uncommitted Balance\"\n          value={`${chequebookBalance?.availableBalance.toFixedDecimal()} BZZ`}\n        />\n        <ExpandableListItem\n          label=\"Total Cheques Amount Sent\"\n          value={`${settlements?.totalSent.toFixedDecimal()} BZZ`}\n        />\n        <ExpandableListItem\n          label=\"Total Cheques Amount Received\"\n          value={`${settlements?.totalReceived.toFixedDecimal()} BZZ`}\n        />\n        <ExpandableListItemActions>\n          <WithdrawModal />\n          <DepositModal />\n        </ExpandableListItemActions>\n      </ExpandableList>\n      <ExpandableList label=\"Blockchain\" defaultOpen>\n        <ExpandableListItemKey label=\"Ethereum address\" value={nodeAddresses?.ethereum || ''} />\n        <ExpandableListItemKey label=\"Chequebook contract address\" value={chequebookAddress?.chequebookAddress || ''} />\n      </ExpandableList>\n      <PeerBalances accounting={accounting} isLoadingUncashed={isLoadingUncashed} totalUncashed={totalUncashed} />\n    </div>\n  )\n}\n","import { Button, CircularProgress, createStyles, makeStyles } from '@material-ui/core'\nimport React, { ReactElement } from 'react'\nimport { IconProps } from 'react-feather'\n\ninterface Props {\n  onClick: () => void\n  iconType: React.ComponentType<IconProps>\n  children: string\n  className?: string\n  disabled?: boolean\n  loading?: boolean\n  cancel?: boolean\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      height: '52px',\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      color: '#242424',\n      '&:hover, &:focus': {\n        '& svg': {\n          stroke: '#fff',\n          transition: '0.1s',\n        },\n      },\n    },\n    cancelButton: {\n      background: '#f7f7f7',\n      color: '#606060',\n    },\n    spinnerWrapper: {\n      position: 'absolute',\n      left: '50%',\n      top: '50%',\n      width: '40px',\n      height: '40px',\n      transform: 'translate(-50%, -50%)',\n    },\n  }),\n)\n\nexport function SwarmButton({\n  children,\n  onClick,\n  iconType,\n  className,\n  disabled,\n  loading,\n  cancel,\n}: Props): ReactElement {\n  const classes = useStyles()\n\n  function getIconColor() {\n    if (loading || disabled) {\n      return 'rgba(0, 0, 0, 0.26)'\n    }\n\n    return cancel ? '#606060' : '#dd7700'\n  }\n\n  function getButtonClassName() {\n    return [className, classes.button, cancel && classes.cancelButton].filter(x => x).join(' ')\n  }\n\n  const icon = React.createElement(iconType, {\n    size: '1.25rem',\n    color: getIconColor(),\n  })\n\n  return (\n    <Button\n      className={getButtonClassName()}\n      onClick={(event: React.MouseEvent<HTMLButtonElement>) => {\n        onClick()\n        event.currentTarget.blur()\n      }}\n      variant=\"contained\"\n      startIcon={icon}\n      disabled={disabled}\n    >\n      {children}\n      {loading && (\n        <div className={classes.spinnerWrapper}>\n          <CircularProgress />\n        </div>\n      )}\n    </Button>\n  )\n}\n","import { createContext, ReactChild, ReactElement, useEffect, useState } from 'react'\n\nexport type IdentityType = 'V3' | 'PRIVATE_KEY'\n\nexport interface Identity {\n  uuid: string\n  name: string\n  feedHash?: string\n  identity: string\n  address: string\n  type: IdentityType\n}\n\ninterface ContextInterface {\n  identities: Identity[]\n  setIdentities: (identities: Identity[]) => void\n}\n\nconst initialValues: ContextInterface = {\n  identities: [],\n  setIdentities: () => {}, // eslint-disable-line\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n}\n\nexport function Provider({ children }: Props): ReactElement {\n  const [identities, setIdentities] = useState<Identity[]>(initialValues.identities)\n\n  useEffect(() => {\n    try {\n      setIdentities(JSON.parse(localStorage.getItem('feeds') || '[]'))\n    } catch {\n      setIdentities([])\n    }\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return <Context.Provider value={{ identities, setIdentities }}>{children}</Context.Provider>\n}\n","import { Box, Dialog, Grid } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  children: ReactElement | ReactElement[]\n}\n\nexport function SwarmDialog({ children }: Props): ReactElement {\n  return (\n    <Dialog\n      open={true}\n      PaperProps={{\n        style: { borderRadius: 0, background: '#efefef' },\n      }}\n    >\n      <Box p={4} sx={{ maxWidth: '100%', width: '650px' }}>\n        <Grid container direction=\"column\">\n          {children}\n        </Grid>\n      </Box>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  onClose: () => void\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      padding: theme.spacing(1),\n      cursor: 'pointer',\n    },\n  }),\n)\n\nexport function CloseButton({ onClose }: Props): ReactElement {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.wrapper} onClick={onClose}>\n      <Close />\n    </div>\n  )\n}\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { CloseButton } from './CloseButton'\n\ninterface Props {\n  children: string\n  onClose: () => void\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    text: {\n      color: '#606060',\n      fontWeight: 'bold',\n    },\n  }),\n)\n\nexport function TitleWithClose({ children, onClose }: Props): ReactElement {\n  const classes = useStyles()\n\n  return (\n    <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n      <span>&nbsp;</span>\n      <Typography className={classes.text} align=\"center\">\n        {children}\n      </Typography>\n      <CloseButton onClose={onClose} />\n    </Grid>\n  )\n}\n","import { Box, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { Trash, X } from 'react-feather'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmDialog } from '../../components/SwarmDialog'\nimport { TitleWithClose } from '../../components/TitleWithClose'\nimport { Identity } from '../../providers/Feeds'\n\ninterface Props {\n  identity: Identity\n  onConfirm: (identity: Identity) => void\n  onClose: () => void\n}\n\nexport function DeleteFeedDialog({ identity, onConfirm, onClose }: Props): ReactElement {\n  return (\n    <SwarmDialog>\n      <Box mb={4}>\n        <TitleWithClose onClose={onClose}>Delete</TitleWithClose>\n      </Box>\n      <Box mb={2}>\n        <Typography align=\"center\">{`You are about to delete feed ${identity.name} Website. It is strongly advised to export this feed first.`}</Typography>\n      </Box>\n      <ExpandableListItemActions>\n        <SwarmButton iconType={Trash} onClick={() => onConfirm(identity)}>\n          Delete\n        </SwarmButton>\n        <SwarmButton iconType={X} onClick={onClose} cancel>\n          Cancel\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </SwarmDialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  children: string\n  prettify?: boolean\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      overflow: 'scroll',\n      background: '#ffffff',\n    },\n    pre: {\n      maxHeight: '6em',\n      padding: theme.spacing(2),\n    },\n  }),\n)\n\nfunction prettifyString(string: string): string {\n  try {\n    return JSON.stringify(JSON.parse(string), null, 4)\n  } catch {\n    return string\n  }\n}\n\nexport function Code({ children, prettify }: Props): ReactElement {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.wrapper}>\n      <pre className={classes.pre}>{prettify ? prettifyString(children) : children}</pre>\n    </div>\n  )\n}\n","import { Box, createStyles, makeStyles, Typography } from '@material-ui/core'\nimport { saveAs } from 'file-saver'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement } from 'react'\nimport { Clipboard, Download } from 'react-feather'\nimport { Code } from '../../components/Code'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmDialog } from '../../components/SwarmDialog'\nimport { TitleWithClose } from '../../components/TitleWithClose'\nimport { Identity } from '../../providers/Feeds'\n\ninterface Props {\n  identity: Identity\n  onClose: () => void\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    wrapper: {\n      maxWidth: '100%',\n    },\n  }),\n)\n\nexport function ExportFeedDialog({ identity, onClose }: Props): ReactElement {\n  const { enqueueSnackbar } = useSnackbar()\n\n  const classes = useStyles()\n\n  function onDownload() {\n    saveAs(\n      new Blob([identity.identity], {\n        type: 'application/json',\n      }),\n      identity.name + '.json',\n    )\n  }\n\n  function getExportText() {\n    return identity.type === 'V3' ? 'JSON file' : 'the private key string'\n  }\n\n  function onCopy() {\n    navigator.clipboard\n      .writeText(identity.identity)\n      .then(() => enqueueSnackbar('Copied to Clipboard', { variant: 'success' }))\n  }\n\n  return (\n    <SwarmDialog>\n      <Box mb={4}>\n        <TitleWithClose onClose={onClose}>Export</TitleWithClose>\n      </Box>\n      <Box mb={2}>\n        <Typography align=\"center\">{`We exported the identity associated with this feed as ${getExportText()}.`}</Typography>\n      </Box>\n      <Box mb={4} className={classes.wrapper}>\n        <Code prettify>{identity.identity}</Code>\n      </Box>\n      <ExpandableListItemActions>\n        <SwarmButton iconType={Download} onClick={onDownload}>\n          Download JSON File\n        </SwarmButton>\n        <SwarmButton iconType={Clipboard} onClick={onCopy}>\n          Copy To Clipboard\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </SwarmDialog>\n  )\n}\n","import { createStyles, makeStyles, TextField as SimpleTextField, Theme } from '@material-ui/core'\nimport { Field } from 'formik'\nimport { TextField } from 'formik-material-ui'\nimport { ChangeEvent, ReactElement } from 'react'\n\ninterface Props {\n  name: string\n  label: string\n  password?: boolean\n  formik?: boolean\n  optional?: boolean\n  onChange?: (event: ChangeEvent<HTMLTextAreaElement>) => void\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    field: {\n      background: theme.palette.background.paper,\n      '& fieldset': {\n        border: 0,\n      },\n      '& .Mui-focused': {\n        background: theme.palette.background.paper,\n      },\n      '& .MuiInputBase-root': {\n        background: theme.palette.background.paper,\n      },\n      '& .MuiFilledInput-root': {\n        borderRadius: 0,\n      },\n    },\n  }),\n)\n\nexport function SwarmTextInput({ name, label, password, optional, formik, onChange }: Props): ReactElement {\n  const classes = useStyles()\n\n  if (formik) {\n    return (\n      <Field\n        component={TextField}\n        type={password ? 'password' : undefined}\n        required={!optional}\n        name={name}\n        label={label}\n        fullWidth\n        variant=\"filled\"\n        className={classes.field}\n        defaultValue=\"\"\n        InputProps={{ disableUnderline: true }}\n      />\n    )\n  }\n\n  return (\n    <SimpleTextField\n      type={password ? 'password' : undefined}\n      required\n      label={label}\n      fullWidth\n      variant=\"filled\"\n      className={classes.field}\n      defaultValue=\"\"\n      onChange={onChange}\n      InputProps={{ disableUnderline: true }}\n    />\n  )\n}\n","import { Box, createStyles, makeStyles, TextareaAutosize, Theme } from '@material-ui/core'\nimport { useSnackbar } from 'notistack'\nimport React, { ReactElement, useContext, useRef, useState } from 'react'\nimport { Check, Upload } from 'react-feather'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmDialog } from '../../components/SwarmDialog'\nimport { SwarmTextInput } from '../../components/SwarmTextInput'\nimport { TitleWithClose } from '../../components/TitleWithClose'\nimport { Context, Identity } from '../../providers/Feeds'\nimport { importIdentity, persistIdentity } from '../../utils/identity'\n\ninterface Props {\n  onClose: () => void\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    textarea: {\n      width: '100%',\n      border: 0,\n      padding: theme.spacing(1),\n    },\n    displayNone: {\n      display: 'none',\n    },\n  }),\n)\n\nexport function ImportFeedDialog({ onClose }: Props): ReactElement {\n  const [textareaValue, setTextareaValue] = useState('')\n  const [name, setName] = useState('')\n  const fileInputRef = useRef(null)\n\n  const { identities, setIdentities } = useContext(Context)\n\n  const { enqueueSnackbar } = useSnackbar()\n\n  const classes = useStyles()\n\n  async function onImport() {\n    const feed = await importIdentity(name, textareaValue)\n\n    if (feed) {\n      onFeedReady(feed)\n    } else {\n      enqueueSnackbar('Feed is not valid', { variant: 'error' })\n    }\n  }\n\n  function onUploadIdentityFile() {\n    if (fileInputRef.current) {\n      const input = fileInputRef.current as HTMLInputElement\n      input.click()\n    }\n  }\n\n  function onIdentityFileSelected(event: React.ChangeEvent<HTMLInputElement>) {\n    const fileReader = new FileReader()\n    const file = event.target?.files?.[0]\n    fileReader.onload = async event => {\n      const string = event.target?.result\n\n      if (string) {\n        const feed = await importIdentity(name, string as string)\n\n        if (feed) {\n          onFeedReady(feed)\n        } else {\n          enqueueSnackbar('Feed is not valid', { variant: 'error' })\n        }\n      }\n    }\n\n    if (file) {\n      fileReader.readAsText(file)\n    }\n  }\n\n  function onFeedReady(identity: Identity) {\n    persistIdentity(identities, identity)\n    setIdentities(identities)\n    enqueueSnackbar('Feed imported successfully', { variant: 'success' })\n    onClose()\n  }\n\n  return (\n    <SwarmDialog>\n      <input onChange={onIdentityFileSelected} ref={fileInputRef} className={classes.displayNone} type=\"file\" />\n      <Box mb={4}>\n        <TitleWithClose onClose={onClose}>Import</TitleWithClose>\n      </Box>\n      <Box mb={2}>\n        <SwarmTextInput label=\"Identity Name\" name=\"name\" onChange={event => setName(event.target.value)} />\n      </Box>\n      <Box mb={4}>\n        <TextareaAutosize\n          className={classes.textarea}\n          minRows={5}\n          onChange={event => setTextareaValue(event.target.value)}\n        />\n      </Box>\n      <ExpandableListItemActions>\n        <SwarmButton iconType={Upload} onClick={onUploadIdentityFile}>\n          Upload Json File\n        </SwarmButton>\n        <SwarmButton iconType={Check} onClick={onImport}>\n          Use Pasted Text\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </SwarmDialog>\n  )\n}\n","import { Box, Typography } from '@material-ui/core'\nimport { ReactElement, useContext, useState } from 'react'\nimport { Download, Info, PlusSquare, Trash } from 'react-feather'\nimport { useNavigate } from 'react-router'\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItem from '../../components/ExpandableListItem'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as IdentityContext, Identity } from '../../providers/Feeds'\nimport { ROUTES } from '../../routes'\nimport { formatEnum } from '../../utils'\nimport { persistIdentitiesWithoutUpdate } from '../../utils/identity'\nimport { DeleteFeedDialog } from './DeleteFeedDialog'\nimport { ExportFeedDialog } from './ExportFeedDialog'\nimport { ImportFeedDialog } from './ImportFeedDialog'\n\nexport default function Feeds(): ReactElement {\n  const { identities, setIdentities } = useContext(IdentityContext)\n  const { status } = useContext(BeeContext)\n\n  const navigate = useNavigate()\n\n  const [selectedIdentity, setSelectedIdentity] = useState<Identity | null>(null)\n  const [showImport, setShowImport] = useState(false)\n  const [showExport, setShowExport] = useState(false)\n  const [showDelete, setShowDelete] = useState(false)\n\n  function createNewFeed() {\n    return navigate(ROUTES.FEEDS_NEW)\n  }\n\n  function viewFeed(uuid: string) {\n    navigate(ROUTES.FEEDS_PAGE.replace(':uuid', uuid))\n  }\n\n  function onDialogClose() {\n    setShowDelete(false)\n    setShowExport(false)\n    setShowImport(false)\n    setSelectedIdentity(null)\n  }\n\n  function onDelete(identity: Identity) {\n    onDialogClose()\n    const updatedFeeds = identities.filter(x => x.uuid !== identity.uuid)\n    setIdentities(updatedFeeds)\n    persistIdentitiesWithoutUpdate(updatedFeeds)\n  }\n\n  function onShowExport(identity: Identity) {\n    setSelectedIdentity(identity)\n    setShowExport(true)\n  }\n\n  function onShowDelete(identity: Identity) {\n    setSelectedIdentity(identity)\n    setShowDelete(true)\n  }\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  return (\n    <div>\n      {showImport && <ImportFeedDialog onClose={() => setShowImport(false)} />}\n      {showExport && selectedIdentity && <ExportFeedDialog identity={selectedIdentity} onClose={onDialogClose} />}\n      {showDelete && selectedIdentity && (\n        <DeleteFeedDialog\n          identity={selectedIdentity}\n          onClose={onDialogClose}\n          onConfirm={(identity: Identity) => onDelete(identity)}\n        />\n      )}\n      <Box mb={4}>\n        <Typography variant=\"h1\">Feeds</Typography>\n      </Box>\n      <Box mb={4}>\n        <ExpandableListItemActions>\n          <SwarmButton iconType={PlusSquare} onClick={createNewFeed}>\n            Create New Feed\n          </SwarmButton>\n          <SwarmButton iconType={PlusSquare} onClick={() => setShowImport(true)}>\n            Import Feed\n          </SwarmButton>\n        </ExpandableListItemActions>\n      </Box>\n      {identities.map((x, i) => (\n        <ExpandableList key={i} label={`${x.name} Website`} defaultOpen>\n          <Box mb={0.5}>\n            <ExpandableList label={x.name} level={1}>\n              <ExpandableListItemKey label=\"Identity address\" value={x.address} />\n              <ExpandableListItem label=\"Identity type\" value={formatEnum(x.type)} />\n            </ExpandableList>\n          </Box>\n          <ExpandableListItemKey label=\"Topic\" value={'00'.repeat(32)} />\n          {x.feedHash && <ExpandableListItemKey label=\"Feed hash\" value={x.feedHash} />}\n          <Box mt={0.75}>\n            <ExpandableListItemActions>\n              <SwarmButton onClick={() => viewFeed(x.uuid)} iconType={Info}>\n                View Feed Page\n              </SwarmButton>\n              <SwarmButton onClick={() => onShowExport(x)} iconType={Download}>\n                Export...\n              </SwarmButton>\n              <SwarmButton onClick={() => onShowDelete(x)} iconType={Trash}>\n                Delete...\n              </SwarmButton>\n            </ExpandableListItemActions>\n          </Box>\n        </ExpandableList>\n      ))}\n    </div>\n  )\n}\n","import { createStyles, makeStyles, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  children: (string | ReactElement)[] | (string | ReactElement)\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    text: {\n      color: '#606060',\n      fontSize: '0.9rem',\n    },\n  }),\n)\n\nexport function DocumentationText({ children }: Props): ReactElement {\n  const classes = useStyles()\n\n  return <Typography className={classes.text}>{children}</Typography>\n}\n","import { Box, createStyles, Grid, makeStyles, Typography } from '@material-ui/core'\nimport { ArrowBack } from '@material-ui/icons'\nimport { ReactElement } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\ninterface Props {\n  children: string\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    pressable: {\n      cursor: 'pointer',\n    },\n    icon: {\n      color: '#242424',\n    },\n  }),\n)\n\nexport function HistoryHeader({ children }: Props): ReactElement {\n  const classes = useStyles()\n  const navigate = useNavigate()\n\n  function goBack() {\n    navigate(-1)\n  }\n\n  return (\n    <Box mb={4}>\n      <Grid container direction=\"row\">\n        <Box mr={2}>\n          <div className={classes.pressable} onClick={goBack}>\n            <ArrowBack className={classes.icon} />\n          </div>\n        </Box>\n        <Typography variant=\"h1\">{children}</Typography>\n      </Grid>\n    </Box>\n  )\n}\n","import { createStyles, FormHelperText, makeStyles, MenuItem, Select as SimpleSelect, Theme } from '@material-ui/core'\nimport { Field } from 'formik'\nimport { Select } from 'formik-material-ui'\nimport { ReactElement } from 'react'\n\nexport type SelectEvent = React.ChangeEvent<{\n  name?: string | undefined\n  value: unknown\n}>\n\ninterface Props {\n  label?: string\n  name?: string\n  options: { value: string; label: string }[]\n  onChange?: (event: SelectEvent) => void\n  formik?: boolean\n  defaultValue?: string\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    select: {\n      borderRadius: 0,\n      background: theme.palette.background.paper,\n      '& fieldset': {\n        border: 0,\n      },\n      '& .MuiSelect-select': {\n        '&:focus': {\n          background: theme.palette.background.paper,\n        },\n      },\n    },\n    option: {\n      height: '52px',\n    },\n  }),\n)\n\nexport function SwarmSelect({ defaultValue, formik, name, options, onChange, label }: Props): ReactElement {\n  const classes = useStyles()\n\n  if (formik) {\n    return (\n      <>\n        {label && <FormHelperText>{label}</FormHelperText>}\n        <Field\n          required\n          component={Select}\n          name={name}\n          fullWidth\n          variant=\"outlined\"\n          defaultValue={defaultValue || ''}\n          className={classes.select}\n          placeholder={label}\n          MenuProps={{ MenuListProps: { disablePadding: true }, PaperProps: { square: true } }}\n        >\n          {options.map((x, i) => (\n            <MenuItem key={i} value={x.value} className={classes.option}>\n              {x.label}\n            </MenuItem>\n          ))}\n        </Field>\n      </>\n    )\n  }\n\n  return (\n    <>\n      {label && <FormHelperText>{label}</FormHelperText>}\n      <SimpleSelect\n        required\n        name={name}\n        fullWidth\n        variant=\"outlined\"\n        className={classes.select}\n        defaultValue={defaultValue || ''}\n        onChange={onChange}\n        placeholder={label}\n        MenuProps={{ MenuListProps: { disablePadding: true }, PaperProps: { square: true } }}\n      >\n        {options.map((x, i) => (\n          <MenuItem key={i} value={x.value} className={classes.option}>\n            {x.label}\n          </MenuItem>\n        ))}\n      </SimpleSelect>\n    </>\n  )\n}\n","import { Box, Grid, Typography } from '@material-ui/core'\nimport { Form, Formik } from 'formik'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useState } from 'react'\nimport { Check, X } from 'react-feather'\nimport { useNavigate } from 'react-router'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmSelect } from '../../components/SwarmSelect'\nimport { SwarmTextInput } from '../../components/SwarmTextInput'\nimport { Context as FeedsContext, IdentityType } from '../../providers/Feeds'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { ROUTES } from '../../routes'\nimport { convertWalletToIdentity, generateWallet, persistIdentity } from '../../utils/identity'\n\ninterface FormValues {\n  identityName?: string\n  type?: IdentityType\n  password?: string\n}\n\nconst initialValues: FormValues = {\n  identityName: '',\n  type: 'PRIVATE_KEY',\n  password: '',\n}\n\nexport default function CreateNewFeed(): ReactElement {\n  const { beeApi, beeDebugApi } = useContext(SettingsContext)\n  const { identities, setIdentities } = useContext(FeedsContext)\n  const [loading, setLoading] = useState(false)\n  const { enqueueSnackbar } = useSnackbar()\n\n  const navigate = useNavigate()\n\n  async function onSubmit(values: FormValues) {\n    setLoading(true)\n\n    if (!beeApi) {\n      enqueueSnackbar(<span>Bee API unavailabe</span>, { variant: 'error' })\n      setLoading(false)\n\n      return\n    }\n    const wallet = generateWallet()\n    const stamps = await beeDebugApi?.getAllPostageBatch()\n\n    if (!stamps || !stamps.length) {\n      enqueueSnackbar(<span>No stamp available</span>, { variant: 'error' })\n      setLoading(false)\n\n      return\n    }\n\n    if (!values.identityName || !values.type) {\n      enqueueSnackbar(<span>Form is unfinished</span>, { variant: 'error' })\n      setLoading(false)\n\n      return\n    }\n\n    const identity = await convertWalletToIdentity(wallet, values.type, values.identityName, values.password)\n    persistIdentity(identities, identity)\n    setIdentities(identities)\n    navigate(ROUTES.FEEDS)\n    setLoading(false)\n  }\n\n  function cancel() {\n    navigate(-1)\n  }\n\n  return (\n    <div>\n      <HistoryHeader>Create new feed</HistoryHeader>\n      <Box mb={4}>\n        <DocumentationText>\n          To create a feed you will need to create an identity. Please refer to the{' '}\n          <a\n            href=\"https://docs.ethswarm.org/api/#tag/Feed/paths/~1feeds~1{owner}~1{topic}/post\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            official Bee documentation\n          </a>{' '}\n          to understand how feeds work.\n        </DocumentationText>\n      </Box>\n      <Formik initialValues={initialValues} onSubmit={onSubmit}>\n        {({ submitForm, values }) => (\n          <Form>\n            <Box mb={0.25}>\n              <SwarmTextInput name=\"identityName\" label=\"Identity name\" formik />\n            </Box>\n            <Box mb={0.25}>\n              <SwarmSelect\n                formik\n                name=\"type\"\n                options={[\n                  { label: 'Keypair Only', value: 'PRIVATE_KEY' },\n                  { label: 'Password Protected', value: 'V3' },\n                ]}\n              />\n            </Box>\n            {values.type === 'V3' && <SwarmTextInput name=\"password\" label=\"Password\" password formik />}\n            <Box mt={2}>\n              <ExpandableListItemKey label=\"Topic\" value={'00'.repeat(32)} />\n            </Box>\n            <Box mt={2} sx={{ bgcolor: '#fcf2e8' }} p={2}>\n              <Grid container justifyContent=\"space-between\">\n                <Typography>Feeds name</Typography>\n                <Typography>{values.identityName} Website</Typography>\n              </Grid>\n            </Box>\n            <Box mt={1.25}>\n              <ExpandableListItemActions>\n                <SwarmButton onClick={submitForm} iconType={Check} disabled={loading} loading={loading}>\n                  Create Feed\n                </SwarmButton>\n                <SwarmButton onClick={cancel} iconType={X} disabled={loading} cancel>\n                  Cancel\n                </SwarmButton>\n              </ExpandableListItemActions>\n            </Box>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n","import { Grid, IconButton, ListItem, Tooltip, Typography } from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { ArrowForward, OpenInNewSharp } from '@material-ui/icons'\nimport { ReactElement, useState } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { useNavigate } from 'react-router'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      backgroundColor: theme.palette.background.paper,\n      marginBottom: theme.spacing(0.25),\n      borderLeft: `${theme.spacing(0.25)}px solid rgba(0,0,0,0)`,\n      wordBreak: 'break-word',\n    },\n    headerOpen: {\n      borderLeft: `${theme.spacing(0.25)}px solid ${theme.palette.primary.main}`,\n    },\n    openLinkIcon: {\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n      },\n    },\n    content: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n    keyMargin: {\n      marginRight: theme.spacing(1),\n    },\n    copyValue: {\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n      },\n    },\n  }),\n)\n\ninterface Props {\n  label: string\n  value: string\n  link?: string\n  navigationType?: 'NEW_WINDOW' | 'HISTORY_PUSH'\n  allowClipboard?: boolean\n}\n\nexport default function ExpandableListItemLink({\n  label,\n  value,\n  link,\n  navigationType = 'NEW_WINDOW',\n  allowClipboard = true,\n}: Props): ReactElement | null {\n  const classes = useStyles()\n  const [copied, setCopied] = useState(false)\n  const navigate = useNavigate()\n\n  const tooltipClickHandler = () => setCopied(true)\n  const tooltipCloseHandler = () => setCopied(false)\n\n  const displayValue = value.length > 22 ? value.slice(0, 19) + '...' : value\n\n  function onNavigation() {\n    if (navigationType === 'NEW_WINDOW') {\n      window.open(link || value)\n    } else {\n      navigate(link || value)\n    }\n  }\n\n  return (\n    <ListItem className={classes.header}>\n      <Grid container direction=\"column\" justifyContent=\"space-between\" alignItems=\"stretch\">\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n          {label && <Typography variant=\"body1\">{label}</Typography>}\n          <Typography variant=\"body2\">\n            <div>\n              {allowClipboard && (\n                <span className={classes.copyValue}>\n                  <Tooltip title={copied ? 'Copied' : 'Copy'} placement=\"top\" arrow onClose={tooltipCloseHandler}>\n                    <CopyToClipboard text={value}>\n                      <span onClick={tooltipClickHandler}>{displayValue}</span>\n                    </CopyToClipboard>\n                  </Tooltip>\n                </span>\n              )}\n              {!allowClipboard && <span onClick={onNavigation}>{displayValue}</span>}\n              <IconButton size=\"small\" className={classes.openLinkIcon}>\n                {navigationType === 'NEW_WINDOW' && <OpenInNewSharp onClick={onNavigation} strokeWidth={1} />}\n                {navigationType === 'HISTORY_PUSH' && <ArrowForward onClick={onNavigation} strokeWidth={1} />}\n              </IconButton>\n            </div>\n          </Typography>\n        </Grid>\n      </Grid>\n    </ListItem>\n  )\n}\n","const indexHtmls = ['index.html', 'index.htm']\n\ninterface DetectedIndex {\n  indexPath: string\n  commonPrefix?: string\n}\n\nexport function detectIndexHtml(files: FilePath[]): DetectedIndex | false {\n  const paths = files.map(getPath)\n\n  if (!paths.length) {\n    return false\n  }\n\n  const exactMatch = paths.find(x => indexHtmls.includes(x))\n\n  if (exactMatch) {\n    return { indexPath: exactMatch }\n  }\n\n  const prefix = paths[0].split('/')[0] + '/'\n\n  const allStartWithSamePrefix = paths.every(x => x.startsWith(prefix))\n\n  if (allStartWithSamePrefix) {\n    const match = paths.find(x => indexHtmls.map(y => prefix + y).includes(x))\n\n    if (match) {\n      return { indexPath: match, commonPrefix: prefix }\n    }\n  }\n\n  return false\n}\n\nexport function getHumanReadableFileSize(bytes: number): string {\n  if (bytes >= 1e15) {\n    return (bytes / 1e15).toFixed(2) + ' PB'\n  }\n\n  if (bytes >= 1e12) {\n    return (bytes / 1e12).toFixed(2) + ' TB'\n  }\n\n  if (bytes >= 1e9) {\n    return (bytes / 1e9).toFixed(2) + ' GB'\n  }\n\n  if (bytes >= 1e6) {\n    return (bytes / 1e6).toFixed(2) + ' MB'\n  }\n\n  if (bytes >= 1e3) {\n    return (bytes / 1e3).toFixed(2) + ' kB'\n  }\n\n  return bytes + ' bytes'\n}\n\nexport function getAssetNameFromFiles(files: FilePath[]): string {\n  if (files.length === 1) return files[0].name\n\n  if (files.length > 0) {\n    const prefix = getPath(files[0]).split('/')[0]\n\n    // Only if all files have a common prefix we can use it as a folder name\n    if (files.every(f => getPath(f).split('/')[0] === prefix)) return prefix\n  }\n\n  return 'unknown'\n}\n\nexport function getMetadata(files: FilePath[]): Metadata {\n  const size = files.reduce((total, item) => total + item.size, 0)\n  const isWebsite = Boolean(detectIndexHtml(files))\n  const name = getAssetNameFromFiles(files)\n  const type = files.length === 1 ? files[0].type : 'folder'\n  const count = files.length\n\n  return { size, name, type, isWebsite, count }\n}\n\nexport function getPath(file: FilePath): string {\n  return (file.path || file.webkitRelativePath || file.name).replace(/^\\//g, '') // remove the starting slash\n}\n\n/**\n * Utility function that is needed to have correct directory structure as webkitRelativePath is read only\n */\nexport function packageFile(file: FilePath): FilePath {\n  const path = getPath(file)\n\n  return {\n    path: path,\n    fullPath: path,\n    webkitRelativePath: path,\n    lastModified: file.lastModified,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    stream: file.stream,\n    slice: file.slice,\n    text: file.text,\n    arrayBuffer: async () => await file.arrayBuffer(), // This is needed for successful upload and can not simply be { arrayBuffer: file.arrayBuffer }\n  }\n}\n","interface Dimensions {\n  width: number\n  height: number\n}\n\n/**\n * Get the dimensions of the image after resize\n *\n * @param imgWidth  Current image width\n * @param imgHeight Current image height\n * @param maxWidth  Desired max width\n * @param maxHeight Desired max height\n *\n * @returns Downscaled dimensions of the image to fit in the bounding box\n */\nexport function getDimensions(imgWidth: number, imgHeight: number, maxWidth?: number, maxHeight?: number): Dimensions {\n  const ratioWidth = maxWidth ? imgWidth / maxWidth : 1\n  const ratioHeight = maxHeight ? imgHeight / maxHeight : 1\n\n  const ratio = Math.max(ratioWidth, ratioHeight)\n\n  // No need to resize\n  if (ratio <= 1) return { width: imgWidth, height: imgHeight }\n\n  return { width: imgWidth / ratio, height: imgHeight / ratio }\n}\n\n/**\n * Resize image passed to fit in the bounding box defined with maxWidth and maxHeight.\n * Note that one or both of the bounding box dimensions may be omitted\n *\n * @param file      Image file to be resized\n * @param maxWidth  Maximal image width\n * @param maxHeight Maximal image height\n *\n * @returns Promise that resolves into the resized image blob\n */\nexport function resize(file: File, maxWidth?: number, maxHeight?: number): Promise<Blob> {\n  return new Promise((resolve, reject) => {\n    const allowedTypes = [\n      'image/bmp',\n      'image/gif',\n      'image/vnd.microsoft.icon',\n      'image/jpeg',\n      'image/png',\n      'image/svg+xml',\n      'image/tiff',\n      'image/webp',\n    ]\n\n    if (!file.size || !file.type || !allowedTypes.includes(file.type)) return reject('File not supported!')\n\n    try {\n      const reader = new FileReader()\n      reader.readAsDataURL(file)\n      reader.onload = event => {\n        const src = event?.target?.result\n\n        if (!src || typeof src !== 'string') throw new Error('Failed to load the image source')\n\n        const img = new Image()\n        img.src = src\n        img.onload = () => {\n          const dimensions = getDimensions(img.width, img.height, maxWidth, maxHeight)\n          const elem = document.createElement('canvas')\n          elem.width = dimensions.width\n          elem.height = dimensions.height\n          const ctx = elem.getContext('2d')\n\n          if (!ctx) throw new Error('Failed to create canvas context')\n\n          ctx.drawImage(img, 0, 0, elem.width, elem.height)\n          ctx.canvas.toBlob(\n            blob => {\n              if (!blob) throw new Error('Failed to extract the blob from canvas')\n\n              resolve(blob)\n            },\n            'image/jpeg',\n            1,\n          )\n        }\n      }\n      reader.onerror = error => reject(error)\n    } catch (error) {\n      reject(error)\n    }\n  })\n}\n","export const META_FILE_NAME = '.swarmgatewaymeta.json'\nexport const PREVIEW_FILE_NAME = '.swarmgatewaypreview.jpeg'\nexport const PREVIEW_DIMENSIONS = { maxWidth: 250, maxHeight: 175 }\n","/* eslint-disable @typescript-eslint/no-empty-function */\n\nimport { createContext, ReactChild, ReactElement, useState, useEffect } from 'react'\nimport { getMetadata } from '../utils/file'\nimport { resize } from '../utils/image'\nimport { PREVIEW_DIMENSIONS } from '../constants'\n\nexport type UploadOrigin = { origin: 'UPLOAD' | 'FEED'; uuid?: string }\n\nexport const defaultUploadOrigin: UploadOrigin = { origin: 'UPLOAD' }\n\ninterface ContextInterface {\n  files: FilePath[]\n  setFiles: (files: FilePath[]) => void\n  uploadOrigin: UploadOrigin\n  setUploadOrigin: (uploadOrigin: UploadOrigin) => void\n  metadata?: Metadata\n  previewUri?: string\n  previewBlob?: Blob\n}\n\nconst initialValues: ContextInterface = {\n  files: [],\n  setFiles: () => {},\n  uploadOrigin: defaultUploadOrigin,\n  setUploadOrigin: () => {},\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n}\n\nexport function Provider({ children }: Props): ReactElement {\n  const [files, setFiles] = useState<FilePath[]>(initialValues.files)\n  const [uploadOrigin, setUploadOrigin] = useState<UploadOrigin>(initialValues.uploadOrigin)\n  const [metadata, setMetadata] = useState<Metadata | undefined>(undefined)\n  const [previewUri, setPreviewUri] = useState<string | undefined>(undefined)\n  const [previewBlob, setPreviewBlob] = useState<Blob | undefined>(undefined)\n\n  useEffect(() => {\n    setMetadata(getMetadata(files))\n\n    if (previewUri) {\n      URL.revokeObjectURL(previewUri) // Clear the preview from memory\n      setPreviewUri(undefined)\n      setPreviewBlob(undefined)\n    }\n\n    if (files.length !== 1 || !files[0].type.startsWith('image')) return\n\n    resize(files[0], PREVIEW_DIMENSIONS.maxWidth, PREVIEW_DIMENSIONS.maxHeight).then(blob => {\n      setPreviewUri(URL.createObjectURL(blob)) // NOTE: Until it is cleared with URL.revokeObjectURL, the file stays allocated in memory\n      setPreviewBlob(blob)\n    })\n\n    return () => {\n      if (previewUri) {\n        URL.revokeObjectURL(previewUri)\n      }\n    }\n  }, [files]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Context.Provider value={{ files, setFiles, uploadOrigin, setUploadOrigin, metadata, previewUri, previewBlob }}>\n      {children}\n    </Context.Provider>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { DropzoneArea } from 'material-ui-dropzone'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useState } from 'react'\nimport { FilePlus, FolderPlus, PlusCircle } from 'react-feather'\nimport { useNavigate } from 'react-router-dom'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { Context, UploadOrigin } from '../../providers/File'\nimport { ROUTES } from '../../routes'\nimport { detectIndexHtml } from '../../utils/file'\n\ninterface Props {\n  uploadOrigin: UploadOrigin\n  showHelp: boolean\n}\n\nconst MAX_FILE_SIZE = 1_000_000_000 // 1 gigabyte\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    areaWrapper: { position: 'relative', marginBottom: theme.spacing(2) },\n    dropzone: {\n      background: theme.palette.background.default,\n      outline: 'none',\n      color: 'transparent',\n      zIndex: 1,\n      '& svg': {\n        opacity: 0,\n      },\n    },\n    buttonWrapper: {\n      top: '0',\n      left: '0',\n      position: 'absolute',\n      display: 'flex',\n      width: '100%',\n      height: '100%',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    button: {\n      marginLeft: theme.spacing(0.5),\n      marginRight: theme.spacing(0.5),\n      zIndex: 2,\n    },\n  }),\n)\n\nexport function UploadArea({ uploadOrigin, showHelp }: Props): ReactElement {\n  const { setFiles, setUploadOrigin } = useContext(Context)\n  const classes = useStyles()\n  const navigate = useNavigate()\n  const { enqueueSnackbar } = useSnackbar()\n  const [strictWebsiteMode, setStrictWebsiteMode] = useState(false)\n  const [version, setVersion] = useState(0)\n\n  const getDropzoneInputDomElement = () => document.querySelector('.MuiDropzoneArea-root input') as HTMLInputElement\n\n  const onUploadCollectionClick = () => {\n    const element = getDropzoneInputDomElement()\n\n    if (element) {\n      element.setAttribute('directory', '')\n      element.setAttribute('webkitdirectory', '')\n      element.setAttribute('mozdirectory', '')\n      element.click()\n    }\n  }\n\n  const onUploadWebsiteClick = () => {\n    onUploadCollectionClick()\n    setStrictWebsiteMode(true)\n  }\n\n  const onUploadFolderClick = () => {\n    onUploadCollectionClick()\n    setStrictWebsiteMode(false)\n  }\n\n  const onUploadFileClick = () => {\n    const element = getDropzoneInputDomElement()\n\n    if (element) {\n      element.removeAttribute('directory')\n      element.removeAttribute('webkitdirectory')\n      element.removeAttribute('mozdirectory')\n      element.click()\n    }\n  }\n\n  const resetComponentOnAddingInvalidContent = () => {\n    setTimeout(() => {\n      setVersion(x => x + 1)\n      setFiles([])\n    }, 0)\n  }\n\n  const handleChange = (files?: File[]) => {\n    if (files) {\n      const FilePaths = files as FilePath[]\n      const indexDocument = files.length === 1 ? files[0].name : detectIndexHtml(FilePaths) || undefined\n\n      if (files.length && strictWebsiteMode && !indexDocument) {\n        enqueueSnackbar('To upload a website, there must be an index.html or index.htm in the root of the folder.', {\n          variant: 'error',\n        })\n        resetComponentOnAddingInvalidContent()\n\n        return\n      }\n\n      setFiles(FilePaths)\n\n      if (files.length) {\n        setUploadOrigin(uploadOrigin)\n        navigate(ROUTES.UPLOAD_IN_PROGRESS)\n      }\n    }\n  }\n\n  return (\n    <>\n      <div className={classes.areaWrapper}>\n        <DropzoneArea\n          key={version}\n          dropzoneClass={classes.dropzone}\n          onChange={handleChange}\n          filesLimit={1e9}\n          maxFileSize={MAX_FILE_SIZE}\n          showPreviews={false}\n        />\n        <div className={classes.buttonWrapper}>\n          <SwarmButton className={classes.button} onClick={onUploadFileClick} iconType={FilePlus}>\n            Add File\n          </SwarmButton>\n          <SwarmButton className={classes.button} onClick={onUploadFolderClick} iconType={FolderPlus}>\n            Add Folder\n          </SwarmButton>\n          <SwarmButton className={classes.button} onClick={onUploadWebsiteClick} iconType={PlusCircle}>\n            Add Website\n          </SwarmButton>\n        </div>\n      </div>\n      {showHelp && (\n        <DocumentationText>\n          You can click the buttons above or simply drag and drop to add a file or folder. To upload a website to Swarm,\n          make sure that your folder contains an index.html file.\n        </DocumentationText>\n      )}\n    </>\n  )\n}\n","import * as swarmCid from '@ethersphere/swarm-cid'\nimport { Box } from '@material-ui/core'\nimport { ReactElement, useContext, useEffect, useState } from 'react'\nimport { X } from 'react-feather'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport ExpandableListItemLink from '../../components/ExpandableListItemLink'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as IdentityContext } from '../../providers/Feeds'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { ROUTES } from '../../routes'\nimport { UploadArea } from '../files/UploadArea'\n\nexport function FeedSubpage(): ReactElement {\n  const { identities } = useContext(IdentityContext)\n  const { uuid } = useParams()\n  const { beeApi } = useContext(SettingsContext)\n  const { status } = useContext(BeeContext)\n\n  const navigate = useNavigate()\n\n  const [available, setAvailable] = useState(false)\n\n  const identity = identities.find(x => x.uuid === uuid)\n\n  useEffect(() => {\n    if (!identity || !identity.feedHash) {\n      return\n    }\n\n    try {\n      beeApi?.downloadData(identity.feedHash).then(() => setAvailable(true))\n    } catch {\n      setAvailable(false)\n    }\n  }, [beeApi, uuid, identity])\n\n  if (!identity || !status.all) {\n    navigate(ROUTES.FEEDS, { replace: true })\n\n    return <></>\n  }\n\n  function onClose() {\n    navigate(ROUTES.FEEDS)\n  }\n\n  return (\n    <div>\n      <HistoryHeader>{`${identity.name} Website`}</HistoryHeader>\n      <UploadArea showHelp={false} uploadOrigin={{ origin: 'FEED', uuid }} />\n      {available && identity.feedHash ? (\n        <>\n          <Box mb={0.25}>\n            <ExpandableListItemKey label=\"Feed hash\" value={identity.feedHash} />\n          </Box>\n          <Box mb={4}>\n            <ExpandableListItemLink\n              label=\"BZZ Link\"\n              value={`https://${swarmCid.encodeFeedReference(identity.feedHash)}.bzz.link`}\n            />\n          </Box>\n        </>\n      ) : (\n        <Box mb={4}>\n          <DocumentationText>\n            This feed is curently not pointing anywhere, you can update the feed to fix this. Please refer to the{' '}\n            <a\n              href=\"https://docs.ethswarm.org/api/#tag/Feed/paths/~1feeds~1{owner}~1{topic}/post\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              official Bee documentation\n            </a>\n            .\n          </DocumentationText>\n        </Box>\n      )}\n      <ExpandableListItemActions>\n        <SwarmButton iconType={X} onClick={onClose} cancel>\n          Close\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </div>\n  )\n}\n","import { PostageBatch } from '@ethersphere/bee-js'\nimport { createContext, ReactChild, ReactElement, useContext, useEffect, useState } from 'react'\nimport { Context as SettingsContext } from './Settings'\n\nexport interface EnrichedPostageBatch extends PostageBatch {\n  usage: number\n  usageText: string\n}\n\ninterface ContextInterface {\n  stamps: EnrichedPostageBatch[] | null\n  error: Error | null\n  isLoading: boolean\n  lastUpdate: number | null\n  start: (frequency?: number) => void\n  stop: () => void\n  refresh: () => Promise<void>\n}\n\nconst initialValues: ContextInterface = {\n  stamps: null,\n  error: null,\n  isLoading: false,\n  lastUpdate: null,\n  start: () => {}, // eslint-disable-line\n  stop: () => {}, // eslint-disable-line\n  refresh: () => Promise.reject(),\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n}\n\nfunction enrichStamp(postageBatch: PostageBatch): EnrichedPostageBatch {\n  const { depth, bucketDepth, utilization } = postageBatch\n\n  const usage = utilization / Math.pow(2, depth - bucketDepth)\n  const usageText = `${Math.ceil(usage * 100)}%`\n\n  return {\n    ...postageBatch,\n    usage,\n    usageText,\n  }\n}\n\nexport function Provider({ children }: Props): ReactElement {\n  const { beeDebugApi } = useContext(SettingsContext)\n  const [stamps, setStamps] = useState<EnrichedPostageBatch[] | null>(initialValues.stamps)\n  const [error, setError] = useState<Error | null>(initialValues.error)\n  const [isLoading, setIsLoading] = useState<boolean>(initialValues.isLoading)\n  const [lastUpdate, setLastUpdate] = useState<number | null>(initialValues.lastUpdate)\n  const [frequency, setFrequency] = useState<number | null>(null)\n\n  const refresh = async () => {\n    // Don't want to refresh when already refreshing\n    if (isLoading) return\n\n    if (!beeDebugApi) return\n\n    try {\n      setIsLoading(true)\n      const stamps = await beeDebugApi.getAllPostageBatch()\n\n      setStamps(stamps.map(enrichStamp))\n      setLastUpdate(Date.now())\n    } catch (e) {\n      setError(e as Error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const start = (freq = 30000) => setFrequency(freq)\n  const stop = () => setFrequency(null)\n\n  // Start the update loop\n  useEffect(() => {\n    refresh()\n\n    // Start autorefresh only if the frequency is set\n    if (frequency) {\n      const interval = setInterval(refresh, frequency)\n\n      return () => clearInterval(interval)\n    }\n  }, [frequency]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Context.Provider value={{ stamps, error, isLoading, lastUpdate, start, stop, refresh }}>\n      {children}\n    </Context.Provider>\n  )\n}\n","import { Box, Typography } from '@material-ui/core'\nimport { ReactElement, useState } from 'react'\nimport { Check, X } from 'react-feather'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmDialog } from '../../components/SwarmDialog'\nimport { SwarmTextInput } from '../../components/SwarmTextInput'\nimport { TitleWithClose } from '../../components/TitleWithClose'\n\ninterface Props {\n  feedName: string\n  onProceed: (password: string) => void\n  onCancel: () => void\n  loading: boolean\n}\n\nexport function FeedPasswordDialog({ feedName, onProceed, onCancel, loading }: Props): ReactElement {\n  const [password, setPassword] = useState('')\n\n  function onProceedClick() {\n    return onProceed(password)\n  }\n\n  return (\n    <SwarmDialog>\n      <Box mb={4}>\n        <TitleWithClose onClose={onCancel}>Update Feed</TitleWithClose>\n      </Box>\n      <Box mb={2}>\n        <Typography>Please enter the password for {feedName}:</Typography>\n      </Box>\n      <Box mb={4}>\n        <SwarmTextInput\n          label=\"Password\"\n          name=\"password\"\n          onChange={event => {\n            setPassword(event.target.value)\n          }}\n          password\n        />\n      </Box>\n      <ExpandableListItemActions>\n        <SwarmButton iconType={Check} onClick={onProceedClick} disabled={loading} loading={loading}>\n          Proceed\n        </SwarmButton>\n        <SwarmButton iconType={X} onClick={onCancel} cancel disabled={loading}>\n          Cancel\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </SwarmDialog>\n  )\n}\n","import { Box, Grid, Typography } from '@material-ui/core'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useEffect, useState } from 'react'\nimport { Bookmark, X } from 'react-feather'\nimport { useParams, useNavigate } from 'react-router'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SelectEvent, SwarmSelect } from '../../components/SwarmSelect'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as IdentityContext, Identity } from '../../providers/Feeds'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { Context as StampContext } from '../../providers/Stamps'\nimport { ROUTES } from '../../routes'\nimport { persistIdentity, updateFeed } from '../../utils/identity'\nimport { FeedPasswordDialog } from './FeedPasswordDialog'\n\nexport default function UpdateFeed(): ReactElement {\n  const { identities, setIdentities } = useContext(IdentityContext)\n  const { beeApi, beeDebugApi } = useContext(SettingsContext)\n  const { stamps, refresh } = useContext(StampContext)\n  const { status } = useContext(BeeContext)\n  const { hash } = useParams()\n\n  const [selectedStamp, setSelectedStamp] = useState<string | null>(null)\n  const [selectedIdentity, setSelectedIdentity] = useState<Identity | null>(null)\n  const [loading, setLoading] = useState(false)\n  const { enqueueSnackbar } = useSnackbar()\n  const [showPasswordPrompt, setShowPasswordPrompt] = useState(false)\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    refresh()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  function onFeedChange(event: SelectEvent) {\n    const uuid = event.target.value\n    setSelectedIdentity(identities.find(x => x.uuid === uuid) || null)\n  }\n\n  function onStampChange(event: SelectEvent) {\n    const batchId = event.target.value as string\n    setSelectedStamp(batchId)\n  }\n\n  function onCancel() {\n    navigate(-1)\n  }\n\n  function onBeginUpdatingFeed() {\n    if (!selectedIdentity) {\n      return\n    }\n\n    if (selectedIdentity.type === 'V3') {\n      setShowPasswordPrompt(true)\n    } else {\n      onFeedUpdate(selectedIdentity)\n    }\n  }\n\n  async function onFeedUpdate(identity: Identity, password?: string) {\n    setLoading(true)\n\n    if (!beeApi || !beeDebugApi || !selectedStamp) {\n      enqueueSnackbar(<span>Bee API unavailabe</span>, { variant: 'error' })\n      setLoading(false)\n\n      return\n    }\n\n    try {\n      await updateFeed(beeApi, identity, hash!, selectedStamp, password as string) // eslint-disable-line\n      persistIdentity(identities, identity)\n      setIdentities([...identities])\n      navigate(ROUTES.FEEDS_PAGE.replace(':uuid', identity.uuid))\n    } catch (error: unknown) {\n      setLoading(false)\n\n      const message = (typeof error === 'object' && error !== null && Reflect.get(error, 'message')) || ''\n\n      if (message.includes('possibly wrong passphrase')) {\n        enqueueSnackbar('Wrong password, please try again', { variant: 'error' })\n      } else {\n        enqueueSnackbar('Could not update feed at this time, please try again later', { variant: 'error' })\n      }\n    }\n  }\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  return (\n    <div>\n      {showPasswordPrompt && selectedIdentity && (\n        <FeedPasswordDialog\n          feedName={selectedIdentity.name + ' Website'}\n          onCancel={() => {\n            setShowPasswordPrompt(false)\n          }}\n          onProceed={(password: string) => {\n            onFeedUpdate(selectedIdentity, password)\n          }}\n          loading={loading}\n        />\n      )}\n      <HistoryHeader>Update feed</HistoryHeader>\n      <Box mb={2}>\n        <Grid container>\n          <SwarmSelect\n            options={identities.map(x => ({ value: x.uuid, label: `${x.name} Website` }))}\n            onChange={onFeedChange}\n            label=\"Feed\"\n          />\n        </Grid>\n      </Box>\n\n      <Box mb={4}>\n        <Grid container>\n          {stamps ? (\n            <SwarmSelect\n              options={stamps.map(x => ({ value: x.batchID, label: x.batchID.slice(0, 8) }))}\n              onChange={onStampChange}\n              label=\"Stamp\"\n            />\n          ) : (\n            <Typography>You need to buy a stamp first to be able to update a feed.</Typography>\n          )}\n        </Grid>\n      </Box>\n      <ExpandableListItemActions>\n        <SwarmButton\n          onClick={onBeginUpdatingFeed}\n          iconType={Bookmark}\n          loading={!showPasswordPrompt && loading}\n          disabled={loading || !selectedStamp || !selectedIdentity}\n        >\n          Update Selected Feed\n        </SwarmButton>\n        <SwarmButton onClick={onCancel} iconType={X} disabled={loading} cancel>\n          Close\n        </SwarmButton>\n      </ExpandableListItemActions>\n    </div>\n  )\n}\n","import { ReactElement, ReactNode } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport ListItem from '@material-ui/core/ListItem'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      backgroundColor: '#F7F7F7',\n      marginBottom: theme.spacing(0.25),\n    },\n    typography: {\n      color: '#242424',\n    },\n  }),\n)\n\ninterface Props {\n  children?: ReactNode | ReactNode[]\n}\n\nexport default function ExpandableListItemNote({ children }: Props): ReactElement | null {\n  const classes = useStyles()\n\n  return (\n    <ListItem className={classes.header}>\n      <Typography variant=\"body1\" className={classes.typography}>\n        {children}\n      </Typography>\n    </ListItem>\n  )\n}\n","import { Grid, IconButton, InputBase, ListItem, Typography } from '@material-ui/core'\nimport Collapse from '@material-ui/core/Collapse'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { ChangeEvent, ReactElement, useState } from 'react'\nimport { Edit, Minus, Search, X } from 'react-feather'\nimport ExpandableListItemActions from './ExpandableListItemActions'\nimport ExpandableListItemNote from './ExpandableListItemNote'\nimport { SwarmButton } from './SwarmButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      backgroundColor: theme.palette.background.paper,\n      marginBottom: theme.spacing(0.25),\n      borderLeft: `${theme.spacing(0.25)}px solid rgba(0,0,0,0)`,\n      wordBreak: 'break-word',\n    },\n    headerOpen: {\n      borderLeft: `${theme.spacing(0.25)}px solid ${theme.palette.primary.main}`,\n    },\n    copyValue: {\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n      },\n    },\n    content: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    keyMargin: {\n      marginRight: theme.spacing(1),\n    },\n    unselectableLabel: {\n      cursor: 'default',\n      userSelect: 'none',\n      // Many browsers don't support yet the general user-select css property\n      WebkitUserSelect: 'none',\n      MozUserSelect: 'none',\n      msUserSelect: 'none',\n    },\n  }),\n)\n\ninterface Props {\n  label: string\n  value?: string\n  placeholder?: string\n  helperText?: string\n  expandedOnly?: boolean\n  confirmLabel?: string\n  confirmLabelDisabled?: boolean\n  loading?: boolean\n  onChange?: (value: string) => void\n  onConfirm: (value: string) => void\n  mapperFn?: (value: string) => string\n  locked?: boolean\n}\n\nexport default function ExpandableListItemKey({\n  label,\n  value,\n  onConfirm,\n  onChange,\n  confirmLabel,\n  confirmLabelDisabled,\n  expandedOnly,\n  helperText,\n  placeholder,\n  loading,\n  mapperFn,\n  locked,\n}: Props): ReactElement | null {\n  const classes = useStyles()\n  const [open, setOpen] = useState(Boolean(expandedOnly))\n  const [inputValue, setInputValue] = useState<string>(value || '')\n  const toggleOpen = () => setOpen(!open)\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    if (mapperFn) {\n      e.target.value = mapperFn(e.target.value)\n    }\n\n    setInputValue(e.target.value)\n\n    if (onChange) onChange(e.target.value)\n  }\n\n  return (\n    <>\n      <ListItem className={`${classes.header} ${open ? classes.headerOpen : ''}`}>\n        <Grid container direction=\"column\" justifyContent=\"space-between\" alignItems=\"stretch\">\n          <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n            {label && (\n              <Typography variant=\"body1\" className={classes.unselectableLabel}>\n                {label}\n              </Typography>\n            )}\n            <Typography variant=\"body2\">\n              <div>\n                {!open && value}\n                {!expandedOnly && !locked && (\n                  <IconButton size=\"small\" className={classes.copyValue}>\n                    {open ? (\n                      <Minus onClick={toggleOpen} strokeWidth={1} />\n                    ) : (\n                      <Edit onClick={toggleOpen} strokeWidth={1} />\n                    )}\n                  </IconButton>\n                )}\n              </div>\n            </Typography>\n          </Grid>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <InputBase\n              value={inputValue}\n              placeholder={placeholder}\n              onChange={handleChange}\n              fullWidth\n              className={classes.content}\n              autoFocus\n              hidden={locked}\n            />\n          </Collapse>\n        </Grid>\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        {helperText && <ExpandableListItemNote>{helperText}</ExpandableListItemNote>}\n        <ExpandableListItemActions>\n          <SwarmButton\n            disabled={\n              loading ||\n              inputValue === value ||\n              Boolean(confirmLabelDisabled) || // Disable if external validation is provided\n              (inputValue === '' && value === undefined) // Disable if no initial value was not provided and the field is empty. The undefined check is improtant so that it is possible to submit with empty input in other cases\n            }\n            loading={loading}\n            iconType={Search}\n            onClick={() => onConfirm(inputValue)}\n          >\n            {confirmLabel || 'Save'}\n          </SwarmButton>\n          <SwarmButton\n            disabled={loading || inputValue === value || inputValue === ''}\n            iconType={X}\n            onClick={() => setInputValue(value || '')}\n            cancel\n          >\n            Cancel\n          </SwarmButton>\n        </ExpandableListItemActions>\n      </Collapse>\n    </>\n  )\n}\n","import { shortenHash } from './hash'\n\nexport enum HISTORY_KEYS {\n  UPLOAD_HISTORY = 'UPLOAD_HISTORY',\n  DOWNLOAD_HISTORY = 'DOWNLOAD_HISTORY',\n}\n\nexport interface HistoryItem {\n  createdAt: number\n  name: string\n  hash: string\n}\n\nexport function putHistory(key: string, hash: string, name: string): void {\n  const history = getHistorySafe(key)\n\n  const existingIndex = history.findIndex(x => x.hash === hash)\n\n  if (existingIndex !== -1) {\n    history.splice(existingIndex, 1)\n  }\n\n  history.unshift({\n    createdAt: Date.now(),\n    hash,\n    name,\n  })\n\n  if (history.length > 10) {\n    history.length = 10\n  }\n  localStorage.setItem(key, JSON.stringify(history))\n}\n\nexport function getHistorySafe(key: string): HistoryItem[] {\n  const items = localStorage.getItem(key)\n\n  if (!items) {\n    return []\n  }\n  try {\n    const parsed = JSON.parse(items)\n\n    if (!Array.isArray(parsed) || !parsed.every(isHistoryItem)) {\n      return []\n    }\n\n    return parsed\n  } catch {\n    return []\n  }\n}\n\nfunction isHistoryItem(x: unknown): x is HistoryItem {\n  if (typeof x !== 'object' || x === null) {\n    return false\n  }\n\n  return 'createdAt' in x && 'hash' in x\n}\n\nexport function determineHistoryName(hash: string, indexDocument?: string | null): string {\n  if (indexDocument === 'index.html') {\n    return `Website ${shortenHash(hash, 4)}`\n  } else if (indexDocument) {\n    return indexDocument\n  }\n\n  return `Folder ${shortenHash(hash, 4)}`\n}\n","export function shortenHash(hash: string, sliceLength = 8): string {\n  return `${hash.slice(0, sliceLength)}[]${hash.slice(-sliceLength)}`\n}\n","import { ReactElement, useEffect, useState } from 'react'\nimport { getPrettyDateString } from '../utils/date'\nimport { getHistorySafe, HistoryItem, HISTORY_KEYS } from '../utils/local-storage'\nimport ExpandableList from './ExpandableList'\nimport ExpandableListItemLink from './ExpandableListItemLink'\n\ninterface Props {\n  title: string\n  localStorageKey: HISTORY_KEYS\n}\n\nexport function History({ title, localStorageKey }: Props): ReactElement | null {\n  const [items, setItems] = useState<HistoryItem[]>([])\n\n  useEffect(() => {\n    setItems(getHistorySafe(localStorageKey))\n  }, [localStorageKey])\n\n  if (!items.length) {\n    return null\n  }\n\n  return (\n    <ExpandableList label={title} defaultOpen>\n      {items.map((x, i) => (\n        <ExpandableListItemLink\n          label={getPrettyDateString(new Date(x.createdAt))}\n          value={x.name}\n          link={'/files/hash/' + x.hash}\n          key={i}\n          navigationType=\"HISTORY_PUSH\"\n          allowClipboard={false}\n        />\n      ))}\n    </ExpandableList>\n  )\n}\n","export function getPrettyDateString(date: Date): string {\n  const string = date.toString()\n\n  return string.split('GMT')[0].trim()\n}\n","import { createStyles, makeStyles, Tab, Tabs, Theme } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { ROUTES } from '../../routes'\n\ninterface Props {\n  active: 'UPLOAD' | 'DOWNLOAD'\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      marginBottom: theme.spacing(4),\n    },\n    leftTab: {\n      marginRight: theme.spacing(0.5),\n    },\n    rightTab: {\n      marginLeft: theme.spacing(0.5),\n    },\n  }),\n)\n\nexport function FileNavigation({ active }: Props): ReactElement {\n  const classes = useStyles()\n  const navigate = useNavigate()\n\n  function onChange(event: React.ChangeEvent<Record<string, never>>, newValue: number) {\n    navigate(newValue === 1 ? ROUTES.DOWNLOAD : ROUTES.UPLOAD)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Tabs value={active === 'UPLOAD' ? 0 : 1} onChange={onChange} variant=\"fullWidth\">\n        <Tab className={classes.leftTab} key=\"UPLOAD\" label=\"Upload\" />\n        <Tab className={classes.rightTab} key=\"DOWNLOAD\" label=\"Download\" />\n      </Tabs>\n    </div>\n  )\n}\n","import { Utils } from '@ethersphere/bee-js'\nimport { ManifestJs } from '@ethersphere/manifest-js'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport ExpandableListItemInput from '../../components/ExpandableListItemInput'\nimport { History } from '../../components/History'\nimport { Context, defaultUploadOrigin } from '../../providers/File'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { ROUTES } from '../../routes'\nimport { extractSwarmHash } from '../../utils'\nimport { determineHistoryName, HISTORY_KEYS, putHistory } from '../../utils/local-storage'\nimport { FileNavigation } from './FileNavigation'\n\nexport function Download(): ReactElement {\n  const [loading, setLoading] = useState(false)\n  const { beeApi } = useContext(SettingsContext)\n  const [referenceError, setReferenceError] = useState<string | undefined>(undefined)\n\n  const { setUploadOrigin } = useContext(Context)\n\n  const { enqueueSnackbar } = useSnackbar()\n  const navigate = useNavigate()\n\n  const validateChange = (value: string) => {\n    if (Utils.isHexString(value, 64) || Utils.isHexString(value, 128) || !value.trim().length) {\n      setReferenceError(undefined)\n    } else {\n      setReferenceError('Incorrect format of swarm hash. Expected 64 or 128 hexstring characters.')\n    }\n  }\n\n  async function onSwarmIdentifier(identifier: string) {\n    setLoading(true)\n\n    if (!beeApi) {\n      setLoading(false)\n\n      return\n    }\n\n    try {\n      const manifestJs = new ManifestJs(beeApi)\n      const feedIdentifier = await manifestJs.resolveFeedManifest(identifier)\n\n      if (feedIdentifier) {\n        identifier = feedIdentifier\n      }\n      const isManifest = await manifestJs.isManifest(identifier)\n\n      if (!isManifest) {\n        throw Error('The specified hash does not contain valid content.')\n      }\n      const indexDocument = await manifestJs.getIndexDocumentPath(identifier)\n      putHistory(HISTORY_KEYS.DOWNLOAD_HISTORY, identifier, determineHistoryName(identifier, indexDocument))\n      setUploadOrigin(defaultUploadOrigin)\n      navigate(ROUTES.HASH.replace(':hash', identifier))\n    } catch (error: unknown) {\n      let message = typeof error === 'object' && error !== null && Reflect.get(error, 'message')\n\n      if (message.includes('path address not found')) {\n        message = 'The specified hash does not have an index document set.'\n      }\n\n      if (message.includes('Not Found: Not Found')) {\n        message = 'The specified hash was not found.'\n      }\n      enqueueSnackbar(<span>Error: {message || 'Unknown'}</span>, { variant: 'error' })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function recognizeSwarmHash(value: string) {\n    if (value.length < 64) {\n      return value\n    }\n\n    const hash = extractSwarmHash(value)\n\n    if (hash) {\n      return hash\n    }\n\n    return value\n  }\n\n  return (\n    <>\n      <FileNavigation active=\"DOWNLOAD\" />\n      <ExpandableListItemInput\n        label=\"Swarm Hash\"\n        onConfirm={value => onSwarmIdentifier(value)}\n        onChange={validateChange}\n        helperText={referenceError}\n        confirmLabel={'Find'}\n        confirmLabelDisabled={Boolean(referenceError) || loading}\n        placeholder=\"e.g. 31fb0362b1a42536134c86bc58b97ac0244e5c6630beec3e27c2d1cecb38c605\"\n        expandedOnly\n        mapperFn={value => recognizeSwarmHash(value)}\n        loading={loading}\n      />\n      <History title=\"Download History\" localStorageKey={HISTORY_KEYS.DOWNLOAD_HISTORY} />\n    </>\n  )\n}\n","import { CircularProgress, Grid } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\nexport function Loading(): ReactElement {\n  return (\n    <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n      <CircularProgress />\n    </Grid>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    image: {\n      width: '100%',\n      height: '100%',\n      objectFit: 'cover',\n    },\n  }),\n)\n\ninterface Props {\n  alt: string\n  src: string | undefined\n  maxHeight?: string\n  maxWidth?: string\n}\n\nexport function FitImage(props: Props): ReactElement {\n  const classes = useStyles()\n\n  const inlineStyles: Record<string, string> = {}\n\n  props.maxHeight && (inlineStyles.maxHeight = props.maxHeight)\n  props.maxWidth && (inlineStyles.maxWidth = props.maxWidth)\n\n  return <img className={classes.image} alt={props.alt} src={props.src} style={inlineStyles} />\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  children: ReactElement | ReactElement[]\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    wrapper: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '175px',\n      height: '175px',\n      background: `repeating-linear-gradient(\n                        45deg,\n                        #efefef,\n                        #efefef 4px,\n                        #ffffff 4px,\n                        #ffffff 8px\n                    )`,\n    },\n  }),\n)\n\nexport function StripedWrapper({ children }: Props): ReactElement {\n  const classes = useStyles()\n\n  return <div className={classes.wrapper}>{children}</div>\n}\n","import { ReactElement } from 'react'\nimport { StripedWrapper } from '../../components/StripedWrapper'\n\ninterface Props {\n  icon: ReactElement\n}\n\nexport function AssetIcon({ icon }: Props): ReactElement {\n  return <StripedWrapper>{icon}</StripedWrapper>\n}\n","import { Box, Grid, Typography } from '@material-ui/core'\nimport { Web } from '@material-ui/icons'\nimport { ReactElement } from 'react'\nimport { File, Folder } from 'react-feather'\nimport { FitImage } from '../../components/FitImage'\nimport { shortenText } from '../../utils'\nimport { getHumanReadableFileSize } from '../../utils/file'\nimport { shortenHash } from '../../utils/hash'\nimport { AssetIcon } from './AssetIcon'\n\ninterface Props {\n  previewUri?: string\n  metadata?: Metadata\n}\n\n// TODO: add optional prop for indexDocument when it is already known (e.g. downloading a manifest)\n\nexport function AssetPreview({ metadata, previewUri }: Props): ReactElement | null {\n  let previewComponent = <File />\n  let type = metadata?.type\n\n  if (metadata?.isWebsite) {\n    previewComponent = <Web />\n    type = 'Website'\n  } else if (metadata?.type === 'folder') {\n    previewComponent = <Folder />\n    type = 'Folder'\n  }\n\n  return (\n    <Box mb={4}>\n      <Box bgcolor=\"background.paper\">\n        <Grid container direction=\"row\">\n          {previewUri ? (\n            <FitImage maxWidth=\"250px\" maxHeight=\"175px\" alt=\"Upload Preview\" src={previewUri} />\n          ) : (\n            <AssetIcon icon={previewComponent} />\n          )}\n          <Box p={2}>\n            {metadata?.hash && <Typography>Swarm Hash: {shortenHash(metadata.hash)}</Typography>}\n            {metadata?.name && metadata?.name !== metadata?.hash && (\n              <Typography>\n                {metadata?.type === 'folder' ? 'Folder Name' : 'Filename'}: {shortenText(metadata?.name)}\n              </Typography>\n            )}\n            <Typography>Kind: {type}</Typography>\n            {metadata?.size ? <Typography>Size: {getHumanReadableFileSize(metadata.size)}</Typography> : null}\n          </Box>\n        </Grid>\n      </Box>\n      {metadata?.type === 'folder' && metadata.count && (\n        <Box mt={0.25} p={2} bgcolor=\"background.paper\">\n          <Grid container justifyContent=\"space-between\" alignItems=\"center\" direction=\"row\">\n            <Typography variant=\"subtitle2\">Folder content</Typography>\n            <Typography variant=\"subtitle2\">{metadata.count} items</Typography>\n          </Grid>\n        </Box>\n      )}\n    </Box>\n  )\n}\n","import * as swarmCid from '@ethersphere/swarm-cid'\nimport { Box } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport ExpandableListItemLink from '../../components/ExpandableListItemLink'\n\ninterface Props {\n  isWebsite?: boolean\n  hash: string\n}\n\nexport function AssetSummary({ isWebsite, hash }: Props): ReactElement {\n  return (\n    <>\n      <Box mb={4}>\n        <ExpandableListItemKey label=\"Swarm hash\" value={hash} />\n        <ExpandableListItemLink label=\"Share on Swarm Gateway\" value={`https://gateway.ethswarm.org/access/${hash}`} />\n        {isWebsite && (\n          <ExpandableListItemLink\n            label=\"BZZ Link\"\n            value={`https://${swarmCid.encodeManifestReference(hash).toString()}.bzz.link`}\n          />\n        )}\n      </Box>\n      <DocumentationText>\n        The Swarm Gateway is graciously provided by the Swarm Foundation. This service is under development and provided\n        for testing purposes only. Learn more at{' '}\n        <a href=\"https://gateway.ethswarm.org/\">https://gateway.ethswarm.org/</a>.\n      </DocumentationText>\n    </>\n  )\n}\n","import { Box, Grid } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { Bookmark, Download, Link, X } from 'react-feather'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\n\ninterface Props {\n  onOpen: () => void\n  onCancel: () => void\n  onDownload: () => void\n  onUpdateFeed: () => void\n  hasIndexDocument: boolean\n  loading: boolean\n}\n\nexport function DownloadActionBar({\n  onOpen,\n  onCancel,\n  onDownload,\n  onUpdateFeed,\n  hasIndexDocument,\n  loading,\n}: Props): ReactElement {\n  return (\n    <Grid container justifyContent=\"space-between\">\n      <ExpandableListItemActions>\n        {hasIndexDocument && (\n          <SwarmButton onClick={onOpen} iconType={Link} disabled={loading}>\n            View Website\n          </SwarmButton>\n        )}\n        <SwarmButton onClick={onDownload} iconType={Download} disabled={loading} loading={loading}>\n          Download\n        </SwarmButton>\n        <SwarmButton onClick={onCancel} iconType={X} disabled={loading} cancel>\n          Close\n        </SwarmButton>\n      </ExpandableListItemActions>\n      <Box mb={1} mr={1}>\n        <SwarmButton onClick={onUpdateFeed} iconType={Bookmark} disabled={loading}>\n          Update Feed\n        </SwarmButton>\n      </Box>\n    </Grid>\n  )\n}\n","import { ManifestJs } from '@ethersphere/manifest-js'\nimport { Box, Typography } from '@material-ui/core'\nimport { saveAs } from 'file-saver'\nimport JSZip from 'jszip'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useEffect, useState } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { Loading } from '../../components/Loading'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport config from '../../config'\nimport { META_FILE_NAME, PREVIEW_FILE_NAME } from '../../constants'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { ROUTES } from '../../routes'\nimport { determineHistoryName, HISTORY_KEYS, putHistory } from '../../utils/local-storage'\nimport { AssetPreview } from './AssetPreview'\nimport { AssetSummary } from './AssetSummary'\nimport { DownloadActionBar } from './DownloadActionBar'\n\nexport function Share(): ReactElement {\n  const { apiUrl, beeApi } = useContext(SettingsContext)\n  const { status } = useContext(BeeContext)\n\n  const { hash } = useParams()\n  const reference = hash! // eslint-disable-line\n\n  const navigate = useNavigate()\n  const { enqueueSnackbar } = useSnackbar()\n\n  const [loading, setLoading] = useState(true)\n  const [downloading, setDownloading] = useState(false)\n  const [swarmEntries, setSwarmEntries] = useState<Record<string, string>>({})\n  const [indexDocument, setIndexDocument] = useState<string | null>(null)\n  const [notFound, setNotFound] = useState(false)\n  const [preview, setPreview] = useState<string | undefined>(undefined)\n  const [metadata, setMetadata] = useState<Metadata | undefined>()\n\n  async function prepare() {\n    if (!beeApi || !status.all) {\n      return\n    }\n\n    const manifestJs = new ManifestJs(beeApi)\n    const isManifest = await manifestJs.isManifest(reference)\n\n    if (!isManifest) {\n      setNotFound(true)\n      enqueueSnackbar('The specified hash does not contain valid content.', { variant: 'error' })\n\n      return\n    }\n    const entries = await manifestJs.getHashes(reference)\n    const indexDocument = await manifestJs.getIndexDocumentPath(reference)\n    setIndexDocument(indexDocument)\n\n    const previewFile = entries[PREVIEW_FILE_NAME]\n\n    delete entries[META_FILE_NAME]\n    delete entries[PREVIEW_FILE_NAME]\n    setSwarmEntries(entries)\n\n    const count = Object.keys(entries).length\n\n    let metadata: Metadata | undefined = {\n      hash,\n      size: 0,\n      type: count > 1 ? 'folder' : 'unknown',\n      name: reference,\n      isWebsite: Boolean(indexDocument) && count > 1,\n      count,\n    }\n\n    try {\n      const mtdt = await beeApi.downloadFile(reference, META_FILE_NAME)\n      const remoteMetadata = mtdt.data.text()\n      metadata = { ...metadata, ...(JSON.parse(remoteMetadata) as Metadata) }\n    } catch (e) {} // eslint-disable-line no-empty\n\n    if (previewFile) {\n      setPreview(`${config.BEE_API_HOST}/bzz/${reference}/${PREVIEW_FILE_NAME}`)\n    }\n\n    setMetadata(metadata)\n  }\n\n  function onOpen() {\n    window.open(`${apiUrl}/bzz/${reference}/`, '_blank')\n  }\n\n  function onClose() {\n    if (navigate.length > 0) {\n      // There is at least one different route in browser history that we can return to\n      navigate(-1)\n    } else {\n      // This is the first page user opened, navigate to upload page instead of going back\n      navigate(ROUTES.UPLOAD)\n    }\n  }\n\n  function onUpdateFeed() {\n    navigate(ROUTES.FEEDS_UPDATE.replace(':hash', reference))\n  }\n\n  useEffect(() => {\n    setLoading(true)\n    prepare().finally(() => {\n      setLoading(false)\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [reference])\n\n  async function onDownload() {\n    if (!beeApi) {\n      return\n    }\n    putHistory(HISTORY_KEYS.DOWNLOAD_HISTORY, reference, determineHistoryName(reference, indexDocument))\n    setDownloading(true)\n\n    if (Object.keys(swarmEntries).length === 1) {\n      window.open(`${apiUrl}/bzz/${reference}/`, '_blank')\n    } else {\n      const zip = new JSZip()\n      for (const [path, hash] of Object.entries(swarmEntries)) {\n        zip.file(path, await beeApi.downloadData(hash))\n      }\n      const content = await zip.generateAsync({ type: 'blob' })\n      saveAs(content, reference + '.zip')\n    }\n    setDownloading(false)\n  }\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  if (loading) {\n    return <Loading />\n  }\n\n  if (notFound) {\n    return (\n      <>\n        <HistoryHeader>Not Found</HistoryHeader>\n        <Typography>The specified hash is not found.</Typography>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Box mb={4}>\n        <AssetPreview metadata={metadata} previewUri={preview} />\n      </Box>\n      <Box mb={4}>\n        <AssetSummary isWebsite={metadata?.isWebsite} hash={reference} />\n      </Box>\n      <DownloadActionBar\n        onOpen={onOpen}\n        onCancel={onClose}\n        onDownload={onDownload}\n        onUpdateFeed={onUpdateFeed}\n        hasIndexDocument={Boolean(metadata?.isWebsite)}\n        loading={downloading}\n      />\n    </>\n  )\n}\n","import { createStyles, Grid, makeStyles, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\n\ninterface Props {\n  steps: string[]\n  index: number\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    wrapper: {\n      height: '52px',\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    todo: {\n      background: '#f7f7f7',\n      color: '#c9c9c9',\n    },\n    inProgress: {\n      background: '#ffffff',\n      color: '#242424',\n      height: '52px',\n    },\n    done: {\n      background: '#f7f7f7',\n      color: '#606060',\n      height: '52px',\n    },\n  }),\n)\n\nexport function ProgressIndicator({ steps, index }: Props): ReactElement {\n  const classes = useStyles()\n\n  function pickClass(i: number): string {\n    if (i === index) {\n      return classes.inProgress\n    }\n\n    return i < index ? classes.done : classes.todo\n  }\n\n  return (\n    <Grid container justifyContent=\"space-between\">\n      {steps.map((x, i) => (\n        <div key={i} className={`${classes.wrapper} ${pickClass(i)}`}>\n          <Typography>{x}</Typography>\n        </div>\n      ))}\n    </Grid>\n  )\n}\n","import { Box, Grid, Typography } from '@material-ui/core'\nimport BigNumber from 'bignumber.js'\nimport { Form, Formik, FormikHelpers } from 'formik'\nimport { useSnackbar } from 'notistack'\nimport React, { ReactElement, useContext } from 'react'\nimport { Check } from 'react-feather'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport { SwarmTextInput } from '../../components/SwarmTextInput'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { Context as StampsContext } from '../../providers/Stamps'\nimport {\n  calculateStampPrice,\n  convertAmountToSeconds,\n  convertDepthToBytes,\n  formatBzz,\n  secondsToTimeString,\n} from '../../utils'\nimport { getHumanReadableFileSize } from '../../utils/file'\n\ninterface FormValues {\n  depth?: string\n  amount?: string\n  label?: string\n}\ntype FormErrors = Partial<FormValues>\nconst initialFormValues: FormValues = {\n  depth: '',\n  amount: '',\n  label: '',\n}\n\ninterface Props {\n  onFinished: () => void\n}\n\nexport function PostageStampCreation({ onFinished }: Props): ReactElement {\n  const { chainState } = useContext(BeeContext)\n  const { refresh } = useContext(StampsContext)\n  const { beeDebugApi } = useContext(SettingsContext)\n\n  const { enqueueSnackbar } = useSnackbar()\n\n  function getFileSize(depth: number): string {\n    if (isNaN(depth) || depth < 17 || depth > 255) {\n      return '-'\n    }\n\n    return `~${getHumanReadableFileSize(convertDepthToBytes(depth))}`\n  }\n\n  function getTtl(amount: number): string {\n    if (isNaN(amount) || amount <= 0) {\n      return '-'\n    }\n\n    return secondsToTimeString(convertAmountToSeconds(amount))\n  }\n\n  function getPrice(depth: number, amount: number): string {\n    const hasInvalidInput = isNaN(amount) || amount <= 0 || isNaN(depth) || depth < 17 || depth > 255\n    const isCurrentPriceAvailable = chainState && chainState.currentPrice\n\n    if (hasInvalidInput || !isCurrentPriceAvailable) {\n      return '-'\n    }\n\n    const price = calculateStampPrice(depth, amount, chainState.currentPrice)\n\n    return `${formatBzz(price)} BZZ`\n  }\n\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      onSubmit={async (values: FormValues, actions: FormikHelpers<FormValues>) => {\n        try {\n          // This is really just a typeguard, the validation pretty much guarantees these will have the right values\n          if (!values.depth || !values.amount) return\n\n          if (!beeDebugApi) return\n\n          const amount = BigInt(values.amount)\n          const depth = Number.parseInt(values.depth)\n          const options = values.label ? { label: values.label } : undefined\n          await beeDebugApi.createPostageBatch(amount.toString(), depth, options)\n          actions.resetForm()\n          await refresh()\n          onFinished()\n        } catch (e) {\n          enqueueSnackbar(`Error: ${(e as Error).message}`, { variant: 'error' })\n          actions.setSubmitting(false)\n        }\n      }}\n      validate={(values: FormValues) => {\n        const errors: FormErrors = {}\n\n        // Depth\n        if (!values.depth) errors.depth = 'Required field'\n        else {\n          const depth = new BigNumber(values.depth)\n\n          if (!depth.isInteger()) errors.depth = 'Depth must be an integer'\n          else if (depth.isLessThan(16)) errors.depth = 'Minimal depth is 16'\n          else if (depth.isGreaterThan(255)) errors.depth = 'Depth has to be at most 255'\n        }\n\n        // Amount\n        if (!values.amount) errors.amount = 'Required field'\n        else {\n          const amount = new BigNumber(values.amount)\n\n          if (!amount.isInteger()) errors.amount = 'Amount must be an integer'\n          else if (amount.isLessThanOrEqualTo(0)) errors.amount = 'Amount must be greater than 0'\n        }\n\n        // Label\n        if (values.label && !/^[0-9a-z]*$/i.test(values.label)) errors.label = 'Label must be an alphanumeric string'\n\n        return errors\n      }}\n    >\n      {({ submitForm, isValid, isSubmitting, values }) => (\n        <Form>\n          <Box mb={2}>\n            <SwarmTextInput name=\"depth\" label=\"Depth\" formik />\n            <Box mt={0.25} sx={{ bgcolor: '#f6f6f6' }} p={2}>\n              <Grid container justifyContent=\"space-between\">\n                <Typography>Corresponding file size</Typography>\n                <Typography>{getFileSize(parseInt(values.depth || '0', 10))}</Typography>\n              </Grid>\n            </Box>\n          </Box>\n          <Box mb={2}>\n            <SwarmTextInput name=\"amount\" label=\"Amount\" formik />\n            <Box mt={0.25} sx={{ bgcolor: '#f6f6f6' }} p={2}>\n              <Grid container justifyContent=\"space-between\">\n                <Typography>Corresponding TTL (Time to live)</Typography>\n                <Typography>{getTtl(parseInt(values.amount || '0', 10))}</Typography>\n              </Grid>\n            </Box>\n          </Box>\n          <Box mb={2}>\n            <SwarmTextInput name=\"label\" label=\"Label\" optional formik />\n          </Box>\n          <Box mb={4} sx={{ bgcolor: '#fcf2e8' }} p={2}>\n            <Grid container justifyContent=\"space-between\">\n              <Typography>Indicative Price</Typography>\n              <Typography>{getPrice(parseInt(values.depth || '0', 10), parseInt(values.amount || '0', 10))}</Typography>\n            </Grid>\n          </Box>\n          <SwarmButton\n            disabled={isSubmitting || !isValid || !values.amount || !values.depth}\n            onClick={submitForm}\n            iconType={Check}\n            loading={isSubmitting}\n          >\n            Buy New Stamp\n          </SwarmButton>\n        </Form>\n      )}\n    </Formik>\n  )\n}\n","import React, { ReactElement, useContext } from 'react'\nimport { SwarmSelect } from '../../components/SwarmSelect'\nimport { Context, EnrichedPostageBatch } from '../../providers/Stamps'\n\ninterface Props {\n  onSelect: (stamp: EnrichedPostageBatch) => void\n  defaultValue?: string\n}\n\nexport function PostageStampSelector({ onSelect, defaultValue }: Props): ReactElement {\n  const { stamps } = useContext(Context)\n\n  function onChange(stampId: string) {\n    if (!stamps) {\n      return\n    }\n    const stamp = stamps.find(x => x.batchID === stampId)\n\n    if (stamp) {\n      onSelect(stamp)\n    }\n  }\n\n  return (\n    <SwarmSelect\n      options={(stamps || []).map(x => ({ label: x.batchID.slice(0, 8), value: x.batchID }))}\n      onChange={event => onChange(event.target.value as string)}\n      defaultValue={defaultValue}\n    />\n  )\n}\n","import { ReactElement } from 'react'\n\ninterface Props {\n  width: string\n  usage: number\n}\n\nexport function Capacity({ width, usage }: Props): ReactElement {\n  const integerUsage = Math.round(usage * 100)\n  const used = integerUsage + '%'\n  const free = 100 - 2 - integerUsage + '%'\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', height: '100%', width }}>\n      <div style={{ display: 'flex', height: '4px', width: '100%' }}>\n        <div style={{ width: used, background: '#dd7200' }} />\n        <div style={{ width: '2%' }} />\n        <div style={{ width: free, background: '#c9c9c9' }} />\n      </div>\n    </div>\n  )\n}\n","import { Box, Grid, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { Capacity } from '../../components/Capacity'\nimport { EnrichedPostageBatch } from '../../providers/Stamps'\n\ninterface Props {\n  stamp: EnrichedPostageBatch\n  shorten?: boolean\n}\n\nexport function PostageStamp({ stamp, shorten }: Props): ReactElement {\n  return (\n    <Box p={2} width=\"100%\">\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\" direction=\"row\">\n        <Typography variant=\"subtitle2\">{shorten ? stamp.batchID.slice(0, 8) : stamp.batchID}</Typography>\n        <Capacity width=\"100px\" usage={stamp.usage} />\n      </Grid>\n    </Box>\n  )\n}\n","import { Box, Typography } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { EnrichedPostageBatch } from '../../providers/Stamps'\nimport { PostageStamp } from '../stamps/PostageStamp'\n\ninterface Props {\n  stamp: EnrichedPostageBatch\n}\n\nexport function StampPreview({ stamp }: Props): ReactElement {\n  return (\n    <Box mb={4}>\n      <Box mb={0.25} p={2} bgcolor=\"background.paper\">\n        <Typography variant=\"subtitle2\">Associated postage stamp:</Typography>\n      </Box>\n      <Box bgcolor=\"background.paper\">\n        <PostageStamp stamp={stamp} shorten={true} />\n      </Box>\n    </Box>\n  )\n}\n","import { Box, Grid } from '@material-ui/core'\nimport { ReactElement } from 'react'\nimport { ArrowLeft, Check, Layers, PlusSquare, X } from 'react-feather'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport ExpandableListItemActions from '../../components/ExpandableListItemActions'\nimport { SwarmButton } from '../../components/SwarmButton'\n\ninterface Props {\n  step: number\n  onUpload: () => void\n  onCancel: () => void\n  onGoBack: () => void\n  onProceed: () => void\n  isUploading: boolean\n  hasStamp: boolean\n  uploadLabel: string\n  stampMode: 'BUY' | 'SELECT'\n  setStampMode: (mode: 'BUY' | 'SELECT') => void\n}\n\nexport function UploadActionBar({\n  step,\n  onUpload,\n  onCancel,\n  onGoBack,\n  onProceed,\n  isUploading,\n  hasStamp,\n  uploadLabel,\n  stampMode,\n  setStampMode,\n}: Props): ReactElement {\n  if (step === 0) {\n    return (\n      <>\n        <Box mb={1}>\n          <ExpandableListItemActions>\n            <SwarmButton onClick={onProceed} iconType={Layers}>\n              Add Postage Stamp\n            </SwarmButton>\n            <SwarmButton onClick={onCancel} iconType={X} cancel>\n              Cancel\n            </SwarmButton>\n          </ExpandableListItemActions>\n        </Box>\n        <DocumentationText>You need a postage stamp to upload.</DocumentationText>\n      </>\n    )\n  }\n\n  if (step === 1) {\n    return (\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <ExpandableListItemActions>\n          {stampMode === 'SELECT' && (\n            <SwarmButton onClick={onProceed} iconType={Check} disabled={!hasStamp}>\n              Proceed With Selected Stamp\n            </SwarmButton>\n          )}\n          <SwarmButton onClick={onGoBack} iconType={ArrowLeft} cancel>\n            Back To Preview\n          </SwarmButton>\n        </ExpandableListItemActions>\n        <SwarmButton\n          onClick={() => setStampMode(stampMode === 'BUY' ? 'SELECT' : 'BUY')}\n          iconType={stampMode === 'BUY' ? Layers : PlusSquare}\n        >\n          {stampMode === 'BUY' ? 'Use Existing Stamp' : 'Buy New Stamp'}\n        </SwarmButton>\n      </Grid>\n    )\n  }\n\n  if (step === 2) {\n    return (\n      <ExpandableListItemActions>\n        <SwarmButton onClick={onUpload} iconType={Check} disabled={isUploading} loading={isUploading}>\n          {uploadLabel}\n        </SwarmButton>\n        <SwarmButton onClick={onGoBack} iconType={ArrowLeft} disabled={isUploading} cancel>\n          Change Postage Stamp\n        </SwarmButton>\n      </ExpandableListItemActions>\n    )\n  }\n\n  return <></>\n}\n","import { Box } from '@material-ui/core'\nimport { useSnackbar } from 'notistack'\nimport { ReactElement, useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { DocumentationText } from '../../components/DocumentationText'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { ProgressIndicator } from '../../components/ProgressIndicator'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as IdentityContext, Identity } from '../../providers/Feeds'\nimport { Context as FileContext } from '../../providers/File'\nimport { Context as SettingsContext } from '../../providers/Settings'\nimport { Context as StampsContext, EnrichedPostageBatch } from '../../providers/Stamps'\nimport { ROUTES } from '../../routes'\nimport { detectIndexHtml, getAssetNameFromFiles, packageFile } from '../../utils/file'\nimport { persistIdentity, updateFeed } from '../../utils/identity'\nimport { HISTORY_KEYS, putHistory } from '../../utils/local-storage'\nimport { FeedPasswordDialog } from '../feeds/FeedPasswordDialog'\nimport { PostageStampCreation } from '../stamps/PostageStampCreation'\nimport { PostageStampSelector } from '../stamps/PostageStampSelector'\nimport { AssetPreview } from './AssetPreview'\nimport { StampPreview } from './StampPreview'\nimport { UploadActionBar } from './UploadActionBar'\nimport { META_FILE_NAME, PREVIEW_FILE_NAME } from '../../constants'\n\nexport function Upload(): ReactElement {\n  const [step, setStep] = useState(0)\n  const [stampMode, setStampMode] = useState<'SELECT' | 'BUY'>('SELECT')\n  const [stamp, setStamp] = useState<EnrichedPostageBatch | null>(null)\n  const [isUploading, setUploading] = useState(false)\n  const [showPasswordPrompt, setShowPasswordPrompt] = useState(false)\n\n  const { refresh } = useContext(StampsContext)\n  const { beeApi } = useContext(SettingsContext)\n  const { files, setFiles, uploadOrigin, metadata, previewUri, previewBlob } = useContext(FileContext)\n  const { identities, setIdentities } = useContext(IdentityContext)\n  const { status } = useContext(BeeContext)\n\n  const { enqueueSnackbar } = useSnackbar()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    refresh()\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  if (!files.length) {\n    setFiles([])\n    navigate(ROUTES.UPLOAD, { replace: true })\n\n    return <></>\n  }\n\n  const identity = uploadOrigin.uuid ? identities.find(x => x.uuid === uploadOrigin.uuid) : null\n\n  const onUpload = () => {\n    if (uploadOrigin.origin === 'UPLOAD') {\n      uploadFiles()\n    } else {\n      if ((identity as Identity).type === 'PRIVATE_KEY') {\n        uploadFiles()\n      } else {\n        setShowPasswordPrompt(true)\n      }\n    }\n  }\n\n  const uploadFiles = (password?: string) => {\n    if (!beeApi || !files.length || !stamp || !metadata) {\n      return\n    }\n\n    let fls = files.map(packageFile) // Apart from packaging, this is needed to not modify the original files array as it can trigger effects\n    let indexDocument: string | undefined = undefined // This means we assume it's folder\n\n    if (files.length === 1) indexDocument = files[0].name\n    else if (files.length > 1) {\n      const idx = detectIndexHtml(files)\n\n      // This is a website\n      if (idx) {\n        // The website is in some directory, remove it\n        if (idx.commonPrefix) {\n          const substrStart = idx.commonPrefix.length\n          indexDocument = idx.indexPath.substr(substrStart)\n          fls = fls.map(f => {\n            const path = (f.path as string).substr(substrStart)\n\n            return { ...f, path, webkitRelativePath: path, fullPath: path }\n          })\n        } else {\n          // The website is not packed in a directory\n          indexDocument = idx.indexPath\n        }\n      }\n    }\n    const lastModified = files[0].lastModified\n\n    // We want to store only some metadata\n    const mtd: SwarmMetadata = {\n      name: metadata.name,\n      size: metadata.size,\n    }\n\n    // Type of the file only makes sense for a single file\n    if (files.length === 1) mtd.type = metadata.type\n\n    const metafile = new File([JSON.stringify(mtd)], META_FILE_NAME, {\n      type: 'application/json',\n      lastModified,\n    })\n    fls.push(packageFile(metafile))\n\n    if (previewBlob) {\n      const previewFile = new File([previewBlob], PREVIEW_FILE_NAME, {\n        type: 'image/jpeg',\n        lastModified,\n      })\n      fls.push(packageFile(previewFile))\n    }\n\n    setUploading(true)\n\n    beeApi\n      .uploadFiles(stamp.batchID, fls, { indexDocument })\n      .then(hash => {\n        putHistory(HISTORY_KEYS.UPLOAD_HISTORY, hash.reference, getAssetNameFromFiles(files))\n\n        if (uploadOrigin.origin === 'UPLOAD') {\n          navigate(ROUTES.HASH.replace(':hash', hash.reference), { replace: true })\n        } else {\n          updateFeed(beeApi, identity as Identity, hash.reference, stamp.batchID, password as string).then(() => {\n            persistIdentity(identities, identity as Identity)\n            setIdentities([...identities])\n            navigate(ROUTES.FEEDS_PAGE.replace(':uuid', uploadOrigin.uuid as string), { replace: true })\n          })\n        }\n      })\n      .catch(e => {\n        enqueueSnackbar(`Error uploading: ${e.message}`, { variant: 'error' })\n        setUploading(false)\n      })\n  }\n\n  const reset = () => {\n    setStep(0)\n    setFiles([])\n    setStamp(null)\n    setUploading(false)\n  }\n\n  const onFeedPasswordGiven = (password: string) => {\n    uploadFiles(password)\n  }\n\n  return (\n    <>\n      {showPasswordPrompt && (\n        <FeedPasswordDialog\n          loading={isUploading}\n          feedName={(identity as Identity).name}\n          onCancel={() => setShowPasswordPrompt(false)}\n          onProceed={onFeedPasswordGiven}\n        />\n      )}\n      {identity && <HistoryHeader>{`Update \"${identity.name}\"`}</HistoryHeader>}\n      {!identity && <HistoryHeader>Upload</HistoryHeader>}\n      <Box mb={4}>\n        <ProgressIndicator steps={['Preview', 'Add postage stamp', 'Upload to node']} index={step} />\n      </Box>\n      {(step === 0 || step === 2) && <AssetPreview metadata={metadata} previewUri={previewUri} />}\n      {step === 1 && (\n        <>\n          <Box mb={2}>\n            {stampMode === 'SELECT' ? (\n              <PostageStampSelector onSelect={stamp => setStamp(stamp)} defaultValue={stamp?.batchID} />\n            ) : (\n              <PostageStampCreation onFinished={() => setStampMode('SELECT')} />\n            )}\n          </Box>\n          <Box mb={4}>\n            <DocumentationText>\n              Please refer to the{' '}\n              <a\n                href=\"https://docs.ethswarm.org/debug-api/#tag/Postage-Stamps/paths/~1stamps~1{amount}~1{depth}/post\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                official Bee documentation\n              </a>{' '}\n              to understand these values.\n            </DocumentationText>\n          </Box>\n        </>\n      )}\n      {step === 2 && stamp && <StampPreview stamp={stamp} />}\n      <UploadActionBar\n        step={step}\n        onCancel={reset}\n        onGoBack={() => setStep(step => step - 1)}\n        onProceed={() => setStep(step => step + 1)}\n        onUpload={onUpload}\n        isUploading={isUploading}\n        hasStamp={Boolean(stamp)}\n        uploadLabel={identity ? 'Update Feed' : 'Upload To Your Node'}\n        stampMode={stampMode}\n        setStampMode={setStampMode}\n      />\n    </>\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport { History } from '../../components/History'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { defaultUploadOrigin } from '../../providers/File'\nimport { HISTORY_KEYS } from '../../utils/local-storage'\nimport { FileNavigation } from './FileNavigation'\nimport { UploadArea } from './UploadArea'\n\nexport function UploadLander(): ReactElement {\n  const { status } = useContext(BeeContext)\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  return (\n    <>\n      <FileNavigation active=\"UPLOAD\" />\n      <UploadArea showHelp={true} uploadOrigin={defaultUploadOrigin} />\n      <History title=\"Upload History\" localStorageKey={HISTORY_KEYS.UPLOAD_HISTORY} />\n    </>\n  )\n}\n","const OPTIMAL_CONNECTED_PEERS = 200\nconst OPTIMAL_POPULATION = 100000\nconst OPTIMAL_DEPTH = 12\n\ninterface Threshold {\n  minimumValue: number\n  explanation: string\n  score: number\n}\n\ntype Thresholds = {\n  connectedPeers: Threshold[]\n  population: Threshold[]\n  depth: Threshold[]\n}\n\ntype ThresholdValue = {\n  score: number\n  maximumScore: number\n  explanation: string\n}\n\nexport type ThresholdValues = {\n  connectedPeers: ThresholdValue\n  population: ThresholdValue\n  depth: ThresholdValue\n}\n\nconst GENERIC_ERROR = 'There may be issues with your Bee node or connection.'\n\nconst THRESHOLDS: Thresholds = {\n  connectedPeers: [\n    {\n      minimumValue: OPTIMAL_CONNECTED_PEERS,\n      explanation: `Perfect! ${OPTIMAL_CONNECTED_PEERS} or more connected peers indicate a healthy topology.`,\n      score: 2,\n    },\n    {\n      minimumValue: 1,\n      explanation: `Your Bee node is connected to peers, but this number should ideally be above ${OPTIMAL_CONNECTED_PEERS}. If you have only started your Bee node, this number may increase quickly.`,\n      score: 1,\n    },\n    {\n      minimumValue: 0,\n      explanation: 'Your Bee node has not connected to any peers. ' + GENERIC_ERROR,\n      score: 0,\n    },\n  ],\n  population: [\n    {\n      minimumValue: OPTIMAL_POPULATION,\n      explanation:\n        'Perfect! Your Bee node seems to have a realistic value for the network size, which means everything is working well on your end.',\n      score: 2,\n    },\n    {\n      minimumValue: 1,\n      explanation: `Population is usually above ${OPTIMAL_POPULATION.toLocaleString()}. If the number does not increase within a few hours, there may be issues with your Bee node.`,\n      score: 1,\n    },\n    {\n      minimumValue: 0,\n      explanation: 'Your Bee node has no information on the network population. ' + GENERIC_ERROR,\n      score: 0,\n    },\n  ],\n  depth: [\n    {\n      minimumValue: OPTIMAL_DEPTH,\n      explanation: 'Perfect! Your Bee node has the highest available depth.',\n      score: 2,\n    },\n    {\n      minimumValue: 1,\n      explanation: `Your Bee node is supposed to reach a depth of ${OPTIMAL_DEPTH} eventually. Stagnation or decrease in this number may indicate problems with your Bee node.`,\n      score: 1,\n    },\n    {\n      minimumValue: 0,\n      explanation: 'Your Bee node has not started building its topology yet. ' + GENERIC_ERROR,\n      score: 0,\n    },\n  ],\n}\n\nexport function pickThreshold(key: keyof Thresholds, value: number): ThresholdValue {\n  const thresholds = THRESHOLDS[key]\n  const maximumScore = thresholds[0].score\n  for (const item of thresholds) {\n    if (value >= item.minimumValue) {\n      return {\n        score: item.score,\n        maximumScore,\n        explanation: item.explanation,\n      }\n    }\n  }\n  const last = thresholds[thresholds.length - 1]\n\n  return {\n    score: last.score,\n    maximumScore,\n    explanation: last.explanation,\n  }\n}\n","import type { Topology } from '@ethersphere/bee-js'\nimport type { ReactElement } from 'react'\nimport { pickThreshold, ThresholdValues } from '../utils/threshold'\nimport ExpandableListItem from './ExpandableListItem'\n\ninterface Props {\n  topology: Topology | null\n}\n\nconst TopologyStats = (props: Props): ReactElement => {\n  const thresholds: ThresholdValues = {\n    connectedPeers: pickThreshold('connectedPeers', props.topology?.connected || 0),\n    population: pickThreshold('population', props.topology?.population || 0),\n    depth: pickThreshold('depth', props.topology?.depth || 0),\n  }\n\n  const maximumTotalScore = Object.values(thresholds).reduce((sum, item) => sum + item.maximumScore, 0)\n  const actualTotalScore = Object.values(thresholds).reduce((sum, item) => sum + item.score, 0)\n  const percentageText = Math.round((actualTotalScore / maximumTotalScore) * 100) + '%'\n\n  return (\n    <>\n      <ExpandableListItem label=\"Overall Health Indicator\" value={percentageText} />\n      <ExpandableListItem\n        label=\"Connected Peers\"\n        value={props.topology?.connected.toString()}\n        tooltip={thresholds.connectedPeers.explanation}\n      />\n      <ExpandableListItem\n        label=\"Population\"\n        value={props.topology?.population.toString()}\n        tooltip={thresholds.population.explanation}\n      />\n      <ExpandableListItem\n        label=\"Depth\"\n        value={props.topology?.depth.toString()}\n        tooltip={thresholds.depth.explanation}\n      />\n    </>\n  )\n}\n\nexport default TopologyStats\n","import { ReactElement, useContext } from 'react'\nimport { Button } from '@material-ui/core'\n\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItem from '../../components/ExpandableListItem'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport TopologyStats from '../../components/TopologyStats'\n\nexport default function Status(): ReactElement {\n  const {\n    status,\n    latestUserVersion,\n    isLatestBeeVersion,\n    latestBeeVersionUrl,\n    topology,\n    nodeAddresses,\n    chequebookAddress,\n  } = useContext(BeeContext)\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  return (\n    <div>\n      <ExpandableList label=\"Bee Node\" defaultOpen>\n        <ExpandableListItem\n          label=\"Agent\"\n          value={\n            <div>\n              <a href=\"https://github.com/ethersphere/bee\" rel=\"noreferrer\" target=\"_blank\">\n                Bee\n              </a>\n              {` ${latestUserVersion || '-'} `}\n              <Button size=\"small\" variant=\"outlined\" href={latestBeeVersionUrl} target=\"_blank\">\n                {isLatestBeeVersion ? 'latest' : 'update'}\n              </Button>\n            </div>\n          }\n        />\n        <ExpandableListItemKey label=\"Public key\" value={nodeAddresses?.publicKey || ''} />\n        <ExpandableListItemKey label=\"PSS public key\" value={nodeAddresses?.pssPublicKey || ''} />\n        <ExpandableListItemKey label=\"Overlay address (Peer ID)\" value={nodeAddresses?.overlay || ''} />\n\n        <ExpandableList level={1} label=\"Underlay addresses\">\n          {nodeAddresses?.underlay.map(addr => (\n            <ExpandableListItem key={addr} value={addr} />\n          ))}\n        </ExpandableList>\n      </ExpandableList>\n      <ExpandableList label=\"Blockchain\" defaultOpen>\n        <ExpandableListItemKey label=\"Ethereum address\" value={nodeAddresses?.ethereum || ''} />\n        <ExpandableListItemKey label=\"Chequebook contract address\" value={chequebookAddress?.chequebookAddress || ''} />\n      </ExpandableList>\n      <ExpandableList label=\"Connectivity\" defaultOpen>\n        <TopologyStats topology={topology} />\n      </ExpandableList>\n    </div>\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItemInput from '../../components/ExpandableListItemInput'\nimport { Context as SettingsContext } from '../../providers/Settings'\n\nexport default function Settings(): ReactElement {\n  const { apiUrl, apiDebugUrl, setApiUrl, setDebugApiUrl, lockedApiSettings } = useContext(SettingsContext)\n\n  return (\n    <ExpandableList label=\"API Settings\" defaultOpen>\n      <ExpandableListItemInput label=\"Bee API\" value={apiUrl} onConfirm={setApiUrl} locked={lockedApiSettings} />\n      <ExpandableListItemInput\n        label=\"Bee Debug API\"\n        value={apiDebugUrl}\n        onConfirm={setDebugApiUrl}\n        locked={lockedApiSettings}\n      />\n    </ExpandableList>\n  )\n}\n","import { Collapse, ListItem } from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { ExpandLess, ExpandMore } from '@material-ui/icons'\nimport { ReactElement, ReactNode, useState } from 'react'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      padding: 0,\n      margin: 0,\n      marginTop: theme.spacing(4),\n      '&:first-child': {\n        marginTop: 0,\n      },\n    },\n    rootLevel1: { marginTop: theme.spacing(1) },\n    rootLevel2: { marginTop: theme.spacing(0.5) },\n    header: {\n      backgroundColor: theme.palette.background.paper,\n    },\n    contentLevel0: {\n      marginTop: theme.spacing(1),\n    },\n    contentLevel12: {\n      marginTop: theme.spacing(0.25),\n    },\n    infoText: {\n      color: '#c9c9c9',\n    },\n  }),\n)\n\ninterface Props {\n  children: ReactNode\n  expandable: ReactNode\n  defaultOpen?: boolean\n}\n\nexport default function ExpandableElement({ children, expandable, defaultOpen }: Props): ReactElement | null {\n  const classes = useStyles()\n  const [open, setOpen] = useState<boolean>(Boolean(defaultOpen))\n\n  const handleClick = () => {\n    setOpen(!open)\n  }\n\n  return (\n    <div className={`${classes.root} ${classes.rootLevel2}`}>\n      <ListItem button onClick={handleClick} className={classes.header}>\n        {children}\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div className={classes.contentLevel12}>{expandable}</div>\n      </Collapse>\n    </div>\n  )\n}\n","import type { ReactElement } from 'react'\nimport ExpandableElement from '../../components/ExpandableElement'\nimport ExpandableList from '../../components/ExpandableList'\nimport ExpandableListItem from '../../components/ExpandableListItem'\nimport ExpandableListItemKey from '../../components/ExpandableListItemKey'\nimport { EnrichedPostageBatch } from '../../providers/Stamps'\nimport { getHumanReadableFileSize } from '../../utils/file'\nimport { PostageStamp } from './PostageStamp'\n\ninterface Props {\n  postageStamps: EnrichedPostageBatch[] | null\n}\n\nfunction StampsTable({ postageStamps }: Props): ReactElement | null {\n  if (postageStamps === null) return null\n\n  return (\n    <ExpandableList label=\"Postage Stamps\" defaultOpen>\n      {postageStamps.map(stamp => (\n        <ExpandableElement\n          key={stamp.batchID}\n          expandable={\n            <>\n              <ExpandableListItemKey label=\"Batch ID\" value={stamp.batchID} />\n              <ExpandableListItem label=\"Depth\" value={String(stamp.depth)} />\n              <ExpandableListItem\n                label=\"Capacity\"\n                value={`${getHumanReadableFileSize(2 ** stamp.depth * 4096 * stamp.usage)} / ${getHumanReadableFileSize(\n                  2 ** stamp.depth * 4096,\n                )}`}\n              />\n              <ExpandableListItem label=\"Amount\" value={parseInt(stamp.amount, 10).toLocaleString()} />\n            </>\n          }\n        >\n          <PostageStamp stamp={stamp} shorten={true} />\n        </ExpandableElement>\n      ))}\n    </ExpandableList>\n  )\n}\n\nexport default StampsTable\n","import { CircularProgress, Container } from '@material-ui/core'\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\nimport { ReactElement, useContext, useEffect } from 'react'\nimport { PlusSquare } from 'react-feather'\nimport { useNavigate } from 'react-router'\nimport { SwarmButton } from '../../components/SwarmButton'\nimport TroubleshootConnectionCard from '../../components/TroubleshootConnectionCard'\nimport { Context as BeeContext } from '../../providers/Bee'\nimport { Context as StampsContext } from '../../providers/Stamps'\nimport { ROUTES } from '../../routes'\nimport StampsTable from './StampsTable'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      width: '100%',\n      display: 'grid',\n    },\n    actions: {\n      display: 'flex',\n      width: '100%',\n      flex: '0 1 auto',\n      flexWrap: 'wrap',\n      alignItems: 'center',\n    },\n  }),\n)\n\nexport default function Stamp(): ReactElement {\n  const classes = useStyles()\n\n  const navigate = useNavigate()\n\n  const { stamps, isLoading, error, start, stop } = useContext(StampsContext)\n  const { status } = useContext(BeeContext)\n\n  useEffect(() => {\n    if (!status.all) return\n    start()\n\n    return () => stop()\n  }, [status]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (!status.all) return <TroubleshootConnectionCard />\n\n  function navigateToNewStamp() {\n    navigate(ROUTES.STAMPS_NEW)\n  }\n\n  return (\n    <div className={classes.root}>\n      {error && (\n        <Container style={{ textAlign: 'center', padding: '50px' }}>\n          Error loading postage stamps details: {error.message}\n        </Container>\n      )}\n      {!error && (\n        <>\n          <div className={classes.actions}>\n            <SwarmButton onClick={navigateToNewStamp} iconType={PlusSquare}>\n              Buy New Postage Stamp\n            </SwarmButton>\n            <div style={{ height: '5px' }}>{isLoading && <CircularProgress />}</div>\n          </div>\n          <StampsTable postageStamps={stamps} />\n        </>\n      )}\n    </div>\n  )\n}\n","import { ReactElement } from 'react'\nimport { useNavigate } from 'react-router'\nimport { HistoryHeader } from '../../components/HistoryHeader'\nimport { ROUTES } from '../../routes'\nimport { PostageStampCreation } from './PostageStampCreation'\n\nexport function CreatePostageStampPage(): ReactElement {\n  const navigate = useNavigate()\n\n  function onFinished() {\n    navigate(ROUTES.STAMPS)\n  }\n\n  return (\n    <div>\n      <HistoryHeader>Buy new postage stamp</HistoryHeader>\n      <PostageStampCreation onFinished={onFinished} />\n    </div>\n  )\n}\n","import React, { ReactElement, ReactNode } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Tab, Tabs } from '@material-ui/core'\n\ninterface TabPanelProps {\n  children?: ReactNode\n  index: number\n  value: number\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div role=\"tabpanel\" hidden={value !== index} {...other}>\n      {value === index && children}\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    content: {\n      marginTop: theme.spacing(2),\n    },\n  }),\n)\n\ninterface TabsValues {\n  component: ReactNode\n  label: ReactNode\n}\n\ninterface Props {\n  values: TabsValues[]\n  index?: number\n  indexChanged?: (index: number) => void\n}\n\nexport default function SimpleTabs({ values, index, indexChanged }: Props): ReactElement {\n  const classes = useStyles()\n  const [value, setValue] = React.useState<number>(index || 0)\n\n  const handleChange = (event: React.ChangeEvent<Record<string, never>>, newValue: number) => {\n    if (indexChanged) indexChanged(newValue)\n    else setValue(newValue)\n  }\n\n  const v = index !== undefined ? index : value\n\n  return (\n    <div className={classes.root}>\n      <Tabs value={v} onChange={handleChange} variant=\"fullWidth\">\n        {values.map(({ label }, idx) => (\n          <Tab key={idx} label={label} />\n        ))}\n      </Tabs>\n      <div className={classes.content}>\n        {values.map(({ component }, idx) => (\n          <TabPanel key={idx} value={v} index={idx}>\n            {component}\n          </TabPanel>\n        ))}\n      </div>\n    </div>\n  )\n}\n","import { createContext, ReactChild, ReactElement, useState, useEffect } from 'react'\n\n// These need to be numeric values as they are used as indexes in the TabsContainer\nexport enum Platforms {\n  macOS = 0,\n  Linux,\n  Windows,\n  iOS,\n  Android,\n}\n\nexport enum SupportedPlatforms {\n  macOS = Platforms.macOS,\n  Linux = Platforms.Linux,\n}\n\ninterface ContextInterface {\n  platform: SupportedPlatforms\n  setPlatform: (platform: SupportedPlatforms) => void\n}\n\nconst initialValues: ContextInterface = {\n  platform: SupportedPlatforms.macOS,\n  setPlatform: () => {}, // eslint-disable-line\n}\n\nexport const Context = createContext<ContextInterface>(initialValues)\nexport const Consumer = Context.Consumer\n\ninterface Props {\n  children: ReactChild\n}\n\nfunction isSupportedPlatform(platform: unknown): platform is SupportedPlatforms {\n  return Object.keys(SupportedPlatforms).includes(platform as string)\n}\n\nfunction getOS(): Platforms | null {\n  const userAgent = window.navigator.userAgent\n  const platform = window.navigator.platform\n  const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K']\n  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE']\n  const iosPlatforms = ['iPhone', 'iPad', 'iPod']\n\n  if (macosPlatforms.includes(platform)) return Platforms.macOS\n\n  if (iosPlatforms.includes(platform)) return Platforms.iOS\n\n  if (windowsPlatforms.includes(platform)) return Platforms.Windows\n\n  if (/Android/.test(userAgent)) return Platforms.Android\n\n  if (/Linux/.test(platform)) return Platforms.Linux\n\n  return null\n}\n\nexport function Provider({ children }: Props): ReactElement {\n  const [platform, setPlatform] = useState<SupportedPlatforms>(SupportedPlatforms.Linux)\n\n  // This is in useEffect as it really just needs to run once and not on each re-render\n  useEffect(() => {\n    const os = getOS()\n\n    setPlatform(isSupportedPlatform(os) ? os : SupportedPlatforms.Linux)\n  }, [])\n\n  return <Context.Provider value={{ platform, setPlatform }}>{children}</Context.Provider>\n}\n","import type { ReactElement } from 'react'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\n\ninterface Props {\n  code: string\n  language: string\n  showLineNumbers?: boolean\n}\n\nconst CodeBlock = (props: Props): ReactElement => {\n  return (\n    <div style={{ textAlign: 'left' }}>\n      <SyntaxHighlighter language={props.language} showLineNumbers={props.showLineNumbers}>\n        {props.code}\n      </SyntaxHighlighter>\n    </div>\n  )\n}\n\nexport default CodeBlock\n","import { ReactElement, useContext } from 'react'\nimport TabsContainer from './TabsContainer'\nimport CodeBlock from './CodeBlock'\nimport { Context } from '../providers/Platform'\n\ninterface Props {\n  linux: string\n  mac: string\n  showLineNumbers?: boolean\n}\n\nexport default function CodeBlockTabs(props: Props): ReactElement {\n  const { platform, setPlatform } = useContext(Context)\n\n  return (\n    <TabsContainer\n      index={platform}\n      indexChanged={setPlatform}\n      values={[\n        {\n          label: 'Linux',\n          component: <CodeBlock showLineNumbers={props.showLineNumbers} language=\"bash\" code={props.linux} />,\n        },\n        {\n          label: 'macOS',\n          component: <CodeBlock showLineNumbers={props.showLineNumbers} language=\"bash\" code={props.mac} />,\n        },\n      ]}\n    />\n  )\n}\n","import type { ReactElement } from 'react'\nimport { CircularProgress } from '@material-ui/core'\n\ninterface Props {\n  isOk: boolean\n  isLoading?: boolean\n  size?: number | string\n  className?: string\n}\n\nexport default function StatusIcon({ isOk, size, className, isLoading }: Props): ReactElement {\n  const s = size || '1rem'\n\n  if (isLoading) return <CircularProgress size={s} className={className} />\n\n  return (\n    <span\n      className={className}\n      style={{\n        backgroundColor: isOk ? '#1de600' : '#ff3a52',\n        height: s,\n        width: s,\n        borderRadius: '50%',\n        display: 'inline-block',\n      }}\n    />\n  )\n}\n","import MuiAlert from '@material-ui/lab/Alert'\nimport { ReactElement, useContext } from 'react'\nimport CodeBlockTabs from '../../../components/CodeBlockTabs'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItem from '../../../components/ExpandableListItem'\nimport ExpandableListItemInput from '../../../components/ExpandableListItemInput'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\nimport { Context as SettingsContext } from '../../../providers/Settings'\n\nexport default function NodeConnectionCheck(): ReactElement | null {\n  const { status, isLoading } = useContext(Context)\n  const { setDebugApiUrl, apiDebugUrl } = useContext(SettingsContext)\n  const isOk = status.debugApiConnection\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Connection to Bee Debug API\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk\n          ? 'The connection to the Bee nodes debug API has been successful'\n          : 'We cannot connect to your nodes debug API. Please check the following to troubleshoot your issue.'}\n      </ExpandableListItemNote>\n      <ExpandableListItemInput label=\"Bee Debug API\" value={apiDebugUrl} onConfirm={setDebugApiUrl} />\n\n      {!isOk && (\n        <ExpandableList level={1} label=\"Troubleshoot\">\n          <ExpandableListItem\n            label={\n              <ol>\n                <li>Check the status of your node by running the below command to see if your node is running.</li>\n                <CodeBlockTabs showLineNumbers linux={`sudo systemctl status bee`} mac={`brew services list`} />\n                <li>\n                  If your node is running, check your firewall settings to make sure that port 1635 (or your custom\n                  specified port) is bound to localhost. If your node is not running try executing the below command to\n                  start your bee node\n                </li>\n                <MuiAlert\n                  style={{ marginTop: '10px', marginBottom: '10px' }}\n                  elevation={6}\n                  variant=\"filled\"\n                  severity=\"error\"\n                >\n                  Your debug node API should never be completely open to the internet. If you want to connect remotely,\n                  make sure your firewall settings are set to only allow specific trusted IP addresses and block all\n                  other ports. A simple google search for &quot;what is my ip&quot; will show you your computers public\n                  IP address to allow.\n                </MuiAlert>\n                <CodeBlockTabs\n                  showLineNumbers\n                  linux={`sudo systemctl start bee`}\n                  mac={`brew services start swarm-bee`}\n                />\n                <li>Run the commands to validate your node is running and see the log output.</li>\n                <CodeBlockTabs\n                  showLineNumbers\n                  linux={`sudo systemctl status bee \\njournalctl --lines=100 --follow --unit bee`}\n                  mac={`brew services list \\ntail -f /usr/local/var/log/swarm-bee/bee.log`}\n                />\n                <li>\n                  Lastly, check your nodes configuration settings to validate the debug API is enabled and the Cross\n                  Origin Resource Sharing (CORS) setting is configured to allow your host. Config parameter{' '}\n                  <strong>debug-api-enable</strong> must be set to <strong>true</strong> and{' '}\n                  <strong>cors-allowed-origins</strong> must be set to your host domain or IP (you can also use the\n                  wildcard <code>{\"cors-allowed-origins: ['*']\"}</code>). If edits are made to the configuration run the\n                  restart command below for changes to take effect.\n                </li>\n                <CodeBlockTabs\n                  showLineNumbers\n                  linux={`sudo vi /etc/bee/bee.yaml\\nsudo systemctl restart bee`}\n                  mac={`sudo vi /usr/local/etc/swarm-bee/bee.yaml \\nbrew services restart swarm-bee`}\n                />\n              </ol>\n            }\n          />\n        </ExpandableList>\n      )}\n    </ExpandableList>\n  )\n}\n","import { ReactElement, useContext } from 'react'\n\nimport CodeBlockTabs from '../../../components/CodeBlockTabs'\nimport { Context as SettingsContext } from '../../../providers/Settings'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItem from '../../../components/ExpandableListItem'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport ExpandableListItemInput from '../../../components/ExpandableListItemInput'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\n\nexport default function NodeConnectionCheck(): ReactElement | null {\n  const { setApiUrl, apiUrl } = useContext(SettingsContext)\n  const { status, isLoading } = useContext(Context)\n  const isOk = status.apiConnection\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Connection to Bee API\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk\n          ? 'The connection to the Bee nodes API has been successful'\n          : 'Could not connect to your Bee nodes API. Please check the troubleshoot below on how you may resolve it.'}\n      </ExpandableListItemNote>\n      <ExpandableListItemInput label=\"Bee API\" value={apiUrl} onConfirm={setApiUrl} />\n      {!isOk && (\n        <ExpandableList level={1} label=\"Troubleshoot\">\n          <ExpandableListItem\n            label={\n              <ol>\n                <li>Check the status of your node by running the below command to see if your node is running.</li>\n                <CodeBlockTabs showLineNumbers linux={`sudo systemctl status bee`} mac={`brew services list`} />\n                <li>\n                  If your node is running, check your firewall settings to make sure that port 1633 (or your custom\n                  specified port) is exposed to the internet. If your node is not running try executing the below\n                  command to start your bee node\n                </li>\n                <CodeBlockTabs\n                  showLineNumbers\n                  linux={`sudo systemctl start bee`}\n                  mac={`brew services start swarm-bee`}\n                />\n                <li>Run the commands to validate your node is running and see the log output.</li>\n                <CodeBlockTabs\n                  showLineNumbers\n                  linux={`sudo systemctl status bee \\njournalctl --lines=100 --follow --unit bee`}\n                  mac={`brew services list \\ntail -f /usr/local/var/log/swarm-bee/bee.log`}\n                />\n              </ol>\n            }\n          />\n        </ExpandableList>\n      )}\n    </ExpandableList>\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport CodeBlockTabs from '../../../components/CodeBlockTabs'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItem from '../../../components/ExpandableListItem'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\n\nexport default function VersionCheck(): ReactElement | null {\n  const { status, isLoading, latestUserVersion, latestPublishedVersion, latestBeeVersionUrl } = useContext(Context)\n  const isOk = status.version\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Bee Version\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk ? (\n          'You are running the latest version of Bee.'\n        ) : (\n          <>\n            Your Bee version is out of date. Please update to the{' '}\n            <a href={latestBeeVersionUrl} rel=\"noreferrer\" target=\"_blank\">\n              latest\n            </a>{' '}\n            before continuing. Rerun the installation script below to upgrade. For more information please see the{' '}\n            <a href=\"https://docs.ethswarm.org/docs/installation/manual#upgrading-bee\" rel=\"noreferrer\" target=\"_blank\">\n              Docs\n            </a>\n            .\n            <CodeBlockTabs\n              showLineNumbers\n              linux={`bee version\\nwget https://github.com/ethersphere/bee/releases/download/${latestPublishedVersion}/bee_${latestPublishedVersion}_amd64.deb\\nsudo dpkg -i bee_${latestPublishedVersion}_amd64.deb`}\n              mac={`bee version\\nbrew tap ethersphere/tap\\nbrew install swarm-bee\\nbrew services start swarm-bee`}\n            />\n          </>\n        )}\n      </ExpandableListItemNote>\n      <ExpandableListItem label=\"Your Version\" value={latestUserVersion || '-'} />\n      <ExpandableListItem label=\"Latest Version\" value={latestPublishedVersion || '-'} />\n    </ExpandableList>\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItemKey from '../../../components/ExpandableListItemKey'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\n\nexport default function EthereumConnectionCheck(): ReactElement | null {\n  const { status, isLoading, nodeAddresses } = useContext(Context)\n  const isOk = status.blockchainConnection\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Connection to Blockchain\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk ? (\n          'Your node is connected to the xDai blockchain'\n        ) : (\n          <>\n            Your Bee node must have access to the xDai blockchain, so that it can interact and deploy your chequebook\n            contract. You can run{' '}\n            <a href=\"https://www.xdaichain.com/\" rel=\"noreferrer\" target=\"_blank\">\n              your own xDai node\n            </a>\n            , or use a provider instead - we recommend{' '}\n            <a href=\"https://getblock.io/\" rel=\"noreferrer\" target=\"_blank\">\n              Getblock\n            </a>\n            . By default, Bee expects a local node at http://localhost:8545. To use a provider instead, simply change\n            the <strong>swap-endpoint</strong> in your configuration file.\n          </>\n        )}\n      </ExpandableListItemNote>\n      {nodeAddresses?.ethereum && <ExpandableListItemKey label=\"Ethereum Address\" value={nodeAddresses?.ethereum} />}\n    </ExpandableList>\n  )\n}\n","import { useContext } from 'react'\nimport DepositModal from '../../../containers/DepositModal'\nimport type { ReactElement } from 'react'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItemKey from '../../../components/ExpandableListItemKey'\nimport ExpandableListItemActions from '../../../components/ExpandableListItemActions'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\n\nconst ChequebookDeployFund = (): ReactElement | null => {\n  const { status, isLoading, chequebookAddress } = useContext(Context)\n  const isOk = status.chequebook\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Chequebook Deployment & Funding\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk ? (\n          'Your chequebook is deployed and funded'\n        ) : (\n          <>\n            Your chequebook is either not deployed or funded. To run the node you will need xDAI and xBZZ on the xDai\n            network. You may need to aquire BZZ (e.g. <a href=\"https://bzz.exchange/\">bzz.exchange</a>) and bridge it to\n            the xDai network through the <a href=\"https://omni.xdaichain.com/bridge\">omni bridge</a>. To pay the\n            transaction fees, you will also need xDAI token. You can purchase DAI on the network and bridge it to xDai\n            network through the <a href=\"https://bridge.xdaichain.com/\">xDai Bridge</a>. See the{' '}\n            <a href=\"https://www.xdaichain.com/#xdai-stable-chain\">official xDai website</a> for more information.\n          </>\n        )}\n      </ExpandableListItemNote>\n      {chequebookAddress && (\n        <>\n          <ExpandableListItemKey label=\"Chequebook Address\" value={chequebookAddress.chequebookAddress} />\n          <ExpandableListItemActions>\n            <DepositModal />\n          </ExpandableListItemActions>\n        </>\n      )}\n    </ExpandableList>\n  )\n}\n\nexport default ChequebookDeployFund\n","import type { ReactElement } from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport Accounting from './pages/accounting'\nimport Feeds from './pages/feeds'\nimport CreateNewFeed from './pages/feeds/CreateNewFeed'\nimport { FeedSubpage } from './pages/feeds/FeedSubpage'\nimport UpdateFeed from './pages/feeds/UpdateFeed'\nimport { Download } from './pages/files/Download'\nimport { Share } from './pages/files/Share'\nimport { Upload } from './pages/files/Upload'\nimport { UploadLander } from './pages/files/UploadLander'\nimport Info from './pages/info'\nimport Settings from './pages/settings'\nimport Stamps from './pages/stamps'\nimport { CreatePostageStampPage } from './pages/stamps/CreatePostageStampPage'\nimport Status from './pages/status'\n\nexport enum ROUTES {\n  INFO = '/',\n  FILES = '/files',\n  UPLOAD = '/files/upload',\n  UPLOAD_IN_PROGRESS = '/files/upload/workflow',\n  DOWNLOAD = '/files/download',\n  HASH = '/files/hash/:hash',\n  ACCOUNTING = '/accounting',\n  SETTINGS = '/settings',\n  STAMPS = '/stamps',\n  STAMPS_NEW = '/stamps/new',\n  STATUS = '/status',\n  FEEDS = '/feeds',\n  FEEDS_NEW = '/feeds/new',\n  FEEDS_UPDATE = '/feeds/update/:hash',\n  FEEDS_PAGE = '/feeds/:uuid',\n}\n\nconst BaseRouter = (): ReactElement => (\n  <Routes>\n    <Route path={ROUTES.UPLOAD_IN_PROGRESS} element={<Upload />} />\n    <Route path={ROUTES.UPLOAD} element={<UploadLander />} />\n    <Route path={ROUTES.DOWNLOAD} element={<Download />} />\n    <Route path={ROUTES.HASH} element={<Share />} />\n    <Route path={ROUTES.ACCOUNTING} element={<Accounting />} />\n    <Route path={ROUTES.SETTINGS} element={<Settings />} />\n    <Route path={ROUTES.STAMPS} element={<Stamps />} />\n    <Route path={ROUTES.STAMPS_NEW} element={<CreatePostageStampPage />} />\n    <Route path={ROUTES.STATUS} element={<Status />} />\n    <Route path={ROUTES.FEEDS} element={<Feeds />} />\n    <Route path={ROUTES.FEEDS_NEW} element={<CreateNewFeed />} />\n    <Route path={ROUTES.FEEDS_UPDATE} element={<UpdateFeed />} />\n    <Route path={ROUTES.FEEDS_PAGE} element={<FeedSubpage />} />\n    <Route path={ROUTES.INFO} element={<Info />} />\n  </Routes>\n)\n\nexport default BaseRouter\n","import { ReactElement, useContext } from 'react'\nimport ExpandableList from '../../../components/ExpandableList'\nimport ExpandableListItemNote from '../../../components/ExpandableListItemNote'\nimport TopologyStats from '../../../components/TopologyStats'\nimport StatusIcon from '../../../components/StatusIcon'\nimport { Context } from '../../../providers/Bee'\n\nexport default function PeerConnection(): ReactElement | null {\n  const { status, isLoading, topology } = useContext(Context)\n  const isOk = status.topology\n\n  return (\n    <ExpandableList\n      label={\n        <>\n          <StatusIcon isOk={isOk} isLoading={isLoading} /> Connection to Peers\n        </>\n      }\n    >\n      <ExpandableListItemNote>\n        {isOk\n          ? 'You are connected to other Bee nodes'\n          : 'Your node is not connected to any peers. Please wait a bit if you just started the node, otherwise review your configuration file.'}\n      </ExpandableListItemNote>\n\n      <TopologyStats topology={topology} />\n    </ExpandableList>\n  )\n}\n","import type { ReactElement } from 'react'\n\nimport DebugConnectionCheck from './SetupSteps/DebugConnectionCheck'\nimport NodeConnectionCheck from './SetupSteps/NodeConnectionCheck'\nimport VersionCheck from './SetupSteps/VersionCheck'\nimport EthereumConnectionCheck from './SetupSteps/EthereumConnectionCheck'\nimport ChequebookDeployFund from './SetupSteps/ChequebookDeployFund'\nimport PeerConnection from './SetupSteps/PeerConnection'\n\nexport default function NodeSetupWorkflow(): ReactElement {\n  return (\n    <div>\n      <DebugConnectionCheck />\n      <VersionCheck />\n      <EthereumConnectionCheck />\n      <ChequebookDeployFund />\n      <NodeConnectionCheck />\n      <PeerConnection />\n    </div>\n  )\n}\n","import type { ReactElement, ReactNode } from 'react'\nimport { useLocation, matchPath } from 'react-router-dom'\n\nimport { createStyles, Theme, makeStyles, withStyles } from '@material-ui/core/styles'\nimport { ListItemText, ListItemIcon, ListItem } from '@material-ui/core'\n\nconst StyledListItem = withStyles((theme: Theme) => ({\n  root: {\n    paddingLeft: theme.spacing(4),\n    paddingRight: theme.spacing(4),\n    borderLeft: '4px solid rgba(0,0,0,0)',\n    '&.Mui-selected, &.Mui-selected:hover': {\n      borderLeft: `4px solid ${theme.palette.primary.main}`,\n      backgroundColor: '#2c2c2c',\n      color: '#f9f9f9',\n    },\n  },\n  button: {\n    '&:hover': {\n      backgroundColor: '#2c2c2c',\n      color: '#f9f9f9',\n\n      // https://github.com/mui-org/material-ui/issues/22543\n      '@media (hover: none)': {\n        backgroundColor: '#2c2c2c',\n        color: '#f9f9f9',\n      },\n    },\n  },\n}))(ListItem)\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    icon: {\n      color: 'inherit',\n    },\n    activeIcon: {\n      color: theme.palette.primary.main,\n    },\n  }),\n)\n\ninterface Props {\n  iconStart?: ReactNode\n  iconEnd?: ReactNode\n  path?: string\n  label: ReactNode\n}\n\nexport default function SideBarItem({ iconStart, iconEnd, path, label }: Props): ReactElement {\n  const classes = useStyles()\n  const location = useLocation()\n  const isSelected = Boolean(path && matchPath(location.pathname, path))\n\n  return (\n    <StyledListItem button selected={isSelected} disableRipple>\n      <ListItemIcon className={isSelected ? classes.activeIcon : classes.icon}>{iconStart}</ListItemIcon>\n      <ListItemText primary={label} />\n      <ListItemIcon className={isSelected ? classes.activeIcon : classes.icon}>{iconEnd}</ListItemIcon>\n    </StyledListItem>\n  )\n}\n","import { ReactElement, useContext } from 'react'\nimport { useLocation, matchPath } from 'react-router-dom'\nimport { ArrowRight } from 'react-feather'\n\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { ListItemText, ListItemIcon, ListItem, Typography } from '@material-ui/core'\nimport { Context } from '../providers/Bee'\nimport StatusIcon from './StatusIcon'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    icon: {\n      color: 'inherit',\n    },\n    iconSmall: {\n      height: theme.spacing(2),\n    },\n\n    root: {\n      height: theme.spacing(4),\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(4),\n      color: '#f9f9f9',\n      borderLeft: '0px solid rgba(0,0,0,0)',\n      '&.Mui-selected, &.Mui-selected:hover': {\n        borderLeft: `0px solid ${theme.palette.primary.main}`,\n        backgroundColor: '#2c2c2c',\n      },\n    },\n    rootError: {\n      backgroundColor: 'rgba(255, 58, 82, 0.25)',\n    },\n    button: {\n      '&:hover': {\n        backgroundColor: '#2c2c2c',\n        color: 'white',\n\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: '#2c2c2c',\n          color: 'white',\n        },\n      },\n    },\n    smallerText: {\n      fontSize: '0.9rem',\n    },\n  }),\n)\n\ninterface Props {\n  path?: string\n}\n\nexport default function SideBarItem({ path }: Props): ReactElement {\n  const { status, isLoading } = useContext(Context)\n  const classes = useStyles()\n  const location = useLocation()\n  const isSelected = Boolean(path && matchPath(location.pathname, path))\n\n  return (\n    <ListItem\n      button\n      classes={{ root: `${classes.root} ${status.all ? '' : classes.rootError}`, button: classes.button }}\n      selected={isSelected}\n      disableRipple\n    >\n      <ListItemIcon style={{ marginLeft: '30px' }}>\n        <StatusIcon isOk={status.all} isLoading={isLoading} />\n      </ListItemIcon>\n      <ListItemText\n        primary={<Typography className={classes.smallerText}>{`Node ${status.all ? 'OK' : 'Error'}`}</Typography>}\n      />\n      <ListItemIcon className={classes.icon}>\n        {status.all ? null : <ArrowRight className={classes.iconSmall} />}\n      </ListItemIcon>\n    </ListItem>\n  )\n}\n","import { Divider, Drawer, Grid, Link as MUILink, List } from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { OpenInNewSharp } from '@material-ui/icons'\nimport type { ReactElement } from 'react'\nimport { Bookmark, BookOpen, DollarSign, FileText, Home, Layers, Settings } from 'react-feather'\nimport { Link } from 'react-router-dom'\nimport Logo from '../assets/logo.svg'\nimport { config } from '../config'\nimport { ROUTES } from '../routes'\nimport SideBarItem from './SideBarItem'\nimport SideBarStatus from './SideBarStatus'\n\nconst navBarItems = [\n  {\n    label: 'Info',\n    path: ROUTES.INFO,\n    icon: Home,\n  },\n  {\n    label: 'Files',\n    path: ROUTES.UPLOAD,\n    icon: FileText,\n  },\n  {\n    label: 'Feeds',\n    path: ROUTES.FEEDS,\n    icon: Bookmark,\n  },\n  {\n    label: 'Stamps',\n    path: ROUTES.STAMPS,\n    icon: Layers,\n  },\n  {\n    label: 'Accounting',\n    path: ROUTES.ACCOUNTING,\n    icon: DollarSign,\n  },\n  {\n    label: 'Settings',\n    path: ROUTES.SETTINGS,\n    icon: Settings,\n  },\n]\n\nconst drawerWidth = 300\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexWrap: 'nowrap',\n      minHeight: '100vh',\n      paddingTop: theme.spacing(8),\n      paddingBottom: theme.spacing(8),\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      backgroundColor: '#212121',\n    },\n    logo: {\n      marginLeft: theme.spacing(8),\n      marginRight: theme.spacing(8),\n    },\n    icon: {\n      height: theme.spacing(4),\n    },\n    iconSmall: {\n      height: theme.spacing(2),\n    },\n    divider: {\n      backgroundColor: '#2c2c2c',\n      marginLeft: theme.spacing(4),\n      marginRight: theme.spacing(4),\n    },\n    link: {\n      color: '#9f9f9f',\n      textDecoration: 'none',\n      '&:hover': {\n        textDecoration: 'none',\n\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          textDecoration: 'none',\n        },\n      },\n    },\n  }),\n)\n\nexport default function SideBar(): ReactElement {\n  const classes = useStyles()\n\n  return (\n    <Drawer className={classes.drawer} variant=\"permanent\" anchor=\"left\" classes={{ paper: classes.drawerPaper }}>\n      <Grid container direction=\"column\" justifyContent=\"space-between\" className={classes.root}>\n        <Grid className={classes.logo}>\n          <Link to={ROUTES.INFO}>\n            <img alt=\"swarm\" src={Logo} />\n          </Link>\n        </Grid>\n        <Grid>\n          <List>\n            {navBarItems.map(p => (\n              <Link to={p.path} key={p.path} className={classes.link}>\n                <SideBarItem\n                  key={p.path}\n                  iconStart={<p.icon className={classes.icon} />}\n                  path={p.path}\n                  label={p.label}\n                />\n              </Link>\n            ))}\n          </List>\n          <Divider className={classes.divider} />\n          <List>\n            <MUILink href={config.BEE_DOCS_HOST} target=\"_blank\" className={classes.link}>\n              <SideBarItem\n                iconStart={<BookOpen className={classes.icon} />}\n                iconEnd={<OpenInNewSharp className={classes.iconSmall} />}\n                label={<span>Docs</span>}\n              />\n            </MUILink>\n          </List>\n        </Grid>\n        <Grid>\n          <Link to={ROUTES.STATUS} className={classes.link}>\n            <SideBarStatus path={ROUTES.STATUS} />\n          </Link>\n        </Grid>\n      </Grid>\n    </Drawer>\n  )\n}\n","import { useContext, ReactElement } from 'react'\nimport ErrorBoundary from '../components/ErrorBoundary'\nimport AlertVersion from '../components/AlertVersion'\nimport { Container, CircularProgress } from '@material-ui/core'\n\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\n\nimport SideBar from '../components/SideBar'\n\nimport { Context } from '../providers/Bee'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      backgroundColor: theme.palette.background.default,\n      minHeight: '100vh',\n    },\n  }),\n)\n\ninterface Props {\n  children?: ReactElement\n}\n\nconst Dashboard = (props: Props): ReactElement => {\n  const classes = useStyles()\n\n  const { isLoading } = useContext(Context)\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <SideBar />\n      <Container className={classes.content}>\n        <ErrorBoundary>\n          <>\n            <AlertVersion />\n            {isLoading ? (\n              <div style={{ textAlign: 'center', width: '100%' }}>\n                <CircularProgress />\n              </div>\n            ) : (\n              props.children\n            )}\n          </>\n        </ErrorBoundary>\n      </Container>\n    </div>\n  )\n}\n\nexport default Dashboard\n","import { createTheme, Theme } from '@material-ui/core/styles'\nimport { orange } from '@material-ui/core/colors'\n\ndeclare module '@material-ui/core/styles/createPalette' {\n  interface TypeBackground {\n    appBar: string\n  }\n}\n\n// Overwriting default components styles\nconst componentsOverrides = (theme: Theme) => ({\n  MuiListItem: {\n    button: {\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: '#fcf2e8',\n          color: theme.palette.primary.main,\n        },\n      },\n    },\n  },\n  MuiContainer: {\n    root: { padding: theme.spacing(8) },\n    maxWidthXs: { padding: theme.spacing(8) },\n    maxWidthSm: { padding: theme.spacing(8) },\n    maxWidthMd: { padding: theme.spacing(8) },\n    maxWidthLg: { padding: theme.spacing(8) },\n    maxWidthXl: { padding: theme.spacing(8) },\n  },\n  MuiButton: {\n    startIcon: { marginLeft: theme.spacing(1) },\n    endIcon: { marginRight: theme.spacing(1) },\n    outlined: {\n      border: 'none',\n      borderRadius: theme.spacing(10),\n      color: theme.palette.primary.main,\n      backgroundColor: '#fcf2e8',\n    },\n    outlinedSizeSmall: {\n      padding: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      boxShadow: 'none',\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        boxShadow: 'none',\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          boxShadow: 'none',\n        },\n      },\n    },\n    outlinedSizeLarge: {\n      padding: theme.spacing(4),\n      borderRadius: 0,\n      boxShadow: 'none',\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        boxShadow: 'none',\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          boxShadow: 'none',\n        },\n      },\n    },\n    containedSizeLarge: {\n      padding: theme.spacing(4),\n      borderRadius: 0,\n      boxShadow: 'none',\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        boxShadow: 'none',\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          boxShadow: 'none',\n        },\n      },\n    },\n    containedSizeSmall: {\n      padding: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      borderRadius: 0,\n      boxShadow: 'none',\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        boxShadow: 'none',\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          boxShadow: 'none',\n        },\n      },\n    },\n    contained: {\n      padding: theme.spacing(2),\n      backgroundColor: 'white',\n      boxShadow: 'none',\n      borderRadius: 0,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        boxShadow: 'none',\n        // https://github.com/mui-org/material-ui/issues/22543\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          boxShadow: 'none',\n        },\n      },\n      '&:focus': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n      },\n      '&:active': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n      },\n      '&:disabled': {\n        backgroundColor: 'white',\n      },\n    },\n  },\n  MuiTab: {\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      '&:hover': {\n        backgroundColor: '#fcf2e8',\n        color: theme.palette.primary.main,\n        opacity: 1,\n      },\n      '&$selected': {\n        fontWeight: theme.typography.fontWeightMedium,\n      },\n    },\n    textColorInherit: {\n      opacity: 0.5,\n    },\n  },\n  MuiTabs: {\n    root: {\n      borderBottom: 'none',\n    },\n    indicator: {\n      backgroundColor: 'transparent',\n    },\n  },\n})\n\nconst propsOverrides = {\n  MuiTab: {\n    disableRipple: true,\n  },\n  MuiButtonBase: {\n    disableRipple: true,\n  },\n}\n\nexport const theme = createTheme({\n  palette: {\n    type: 'light',\n    background: {\n      default: '#efefef',\n    },\n    primary: {\n      light: '#fcf2e8',\n      main: '#dd7700',\n      dark: orange[800],\n    },\n    secondary: {\n      main: '#333333',\n    },\n  },\n  typography: {\n    fontFamily: ['Work Sans', 'Montserrat', 'Nunito', 'Roboto', '\"Helvetica Neue\"', 'Arial', 'sans-serif'].join(','),\n    h1: {\n      fontSize: '1.3rem',\n      fontWeight: 500,\n    },\n    h2: {\n      fontSize: '1rem',\n      fontWeight: 500,\n    },\n    h3: {\n      fontSize: '0.8rem',\n      fontWeight: 500,\n    },\n    body2: {\n      fontFamily: '\"IBM Plex Mono\", monospace',\n      fontWeight: 500,\n      fontSize: '1rem',\n    },\n  },\n})\n\ntheme.overrides = componentsOverrides(theme)\ntheme.props = propsOverrides\n","import CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport { SnackbarProvider } from 'notistack'\nimport React, { ReactElement } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport './App.css'\nimport Dashboard from './layout/Dashboard'\nimport { Provider as BeeProvider } from './providers/Bee'\nimport { Provider as FeedsProvider } from './providers/Feeds'\nimport { Provider as FileProvider } from './providers/File'\nimport { Provider as PlatformProvider } from './providers/Platform'\nimport { Provider as SettingsProvider } from './providers/Settings'\nimport { Provider as StampsProvider } from './providers/Stamps'\nimport BaseRouter from './routes'\nimport { theme } from './theme'\n\ninterface Props {\n  beeApiUrl?: string\n  beeDebugApiUrl?: string\n  lockedApiSettings?: boolean\n}\n\nconst App = ({ beeApiUrl, beeDebugApiUrl, lockedApiSettings }: Props): ReactElement => (\n  <div className=\"App\">\n    <ThemeProvider theme={theme}>\n      <SettingsProvider beeApiUrl={beeApiUrl} beeDebugApiUrl={beeDebugApiUrl} lockedApiSettings={lockedApiSettings}>\n        <BeeProvider>\n          <StampsProvider>\n            <FileProvider>\n              <FeedsProvider>\n                <PlatformProvider>\n                  <SnackbarProvider>\n                    <Router>\n                      <>\n                        <CssBaseline />\n                        <Dashboard>\n                          <BaseRouter />\n                        </Dashboard>\n                      </>\n                    </Router>\n                  </SnackbarProvider>\n                </PlatformProvider>\n              </FeedsProvider>\n            </FileProvider>\n          </StampsProvider>\n        </BeeProvider>\n      </SettingsProvider>\n    </ThemeProvider>\n  </div>\n)\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}